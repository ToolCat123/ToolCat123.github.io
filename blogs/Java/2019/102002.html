<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java面试题2 | Sail</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="blog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.ba62975d.css" as="style"><link rel="preload" href="/assets/js/app.df9b6469.js" as="script"><link rel="preload" href="/assets/js/3.cc36008b.js" as="script"><link rel="preload" href="/assets/js/1.fecf3d02.js" as="script"><link rel="preload" href="/assets/js/18.721bfa07.js" as="script"><link rel="prefetch" href="/assets/js/10.5a8e332a.js"><link rel="prefetch" href="/assets/js/11.029bf4a4.js"><link rel="prefetch" href="/assets/js/12.ad3321e2.js"><link rel="prefetch" href="/assets/js/13.deb36412.js"><link rel="prefetch" href="/assets/js/14.396832a1.js"><link rel="prefetch" href="/assets/js/15.10848c12.js"><link rel="prefetch" href="/assets/js/16.aed06a10.js"><link rel="prefetch" href="/assets/js/17.cc47030b.js"><link rel="prefetch" href="/assets/js/19.c74b3f8b.js"><link rel="prefetch" href="/assets/js/20.7ee83dc0.js"><link rel="prefetch" href="/assets/js/21.d3c71fed.js"><link rel="prefetch" href="/assets/js/22.4b39c759.js"><link rel="prefetch" href="/assets/js/23.df954f27.js"><link rel="prefetch" href="/assets/js/24.080ce141.js"><link rel="prefetch" href="/assets/js/25.f1161116.js"><link rel="prefetch" href="/assets/js/26.96ba3054.js"><link rel="prefetch" href="/assets/js/27.6965a6b0.js"><link rel="prefetch" href="/assets/js/28.dc2e0a08.js"><link rel="prefetch" href="/assets/js/29.ee188e6a.js"><link rel="prefetch" href="/assets/js/30.c81beb8a.js"><link rel="prefetch" href="/assets/js/4.67d4bede.js"><link rel="prefetch" href="/assets/js/5.07e8c5f8.js"><link rel="prefetch" href="/assets/js/6.35eedbe2.js"><link rel="prefetch" href="/assets/js/7.fc9125aa.js"><link rel="prefetch" href="/assets/js/8.a931b049.js"><link rel="prefetch" href="/assets/js/9.9747fe06.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ba62975d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-2d5f533b><div data-v-2d5f533b><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-2d5f533b data-v-2d5f533b><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-2d5f533b data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Sail</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Sail</span>
            
          <span data-v-64685f0e>2019 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-2d5f533b><header class="navbar" data-v-2d5f533b><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sail</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/GO/" class="nav-link"><i class="iconfont undefined"></i>
  GO
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS/" class="nav-link"><i class="iconfont undefined"></i>
  JS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="iconfont undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/Python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringBoot/" class="nav-link"><i class="iconfont undefined"></i>
  SpringBoot
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/theme-reco/" class="nav-link"><i class="iconfont undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联络
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ToolCat123" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-2d5f533b></div> <aside class="sidebar" data-v-2d5f533b><div class="personal-info-wrapper" data-v-ca798c94 data-v-2d5f533b><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    Sail
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>15</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>12</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/GO/" class="nav-link"><i class="iconfont undefined"></i>
  GO
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS/" class="nav-link"><i class="iconfont undefined"></i>
  JS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="iconfont undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/Python/" class="nav-link"><i class="iconfont undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/categories/SpringBoot/" class="nav-link"><i class="iconfont undefined"></i>
  SpringBoot
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/theme-reco/" class="nav-link"><i class="iconfont undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联络
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ToolCat123" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Java面试题2</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Sail</span>
            
          <span data-v-64685f0e>2019 - </span>
          2020
        </a></span></div></div> <div data-v-2d5f533b><main class="page"><div class="page-title" style="display:none;"><h1 class="title">Java面试题2</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>Sail</span></i> <i class="iconfont reco-date" data-v-3b7f5bdf><span data-v-3b7f5bdf>2019-10-20</span></i> <!----> <i class="iconfont reco-tag tags" data-v-3b7f5bdf><span class="tag-item" data-v-3b7f5bdf>Java</span><span class="tag-item" data-v-3b7f5bdf>面试</span><span class="tag-item" data-v-3b7f5bdf>Java基础</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="java基础-java面试题2"><a href="#java基础-java面试题2" class="header-anchor">#</a> Java基础 Java面试题2</h1> <p>object</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 创建并返回此对象的副本。

<span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> 指示一些其他对象是否等于此。

<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 当垃圾收集确定不再有对该对象的引用时，垃圾收集器在对象上调用该对象。

类<span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此 <span class="token class-name">Object</span>的运行时类。

<span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回对象的哈希码值。

<span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 唤醒正在等待对象监视器的单个线程。

<span class="token keyword">void</span> <span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 唤醒正在等待对象监视器的所有线程。

<span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回对象的字符串表示形式。

<span class="token keyword">void</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 导致当前线程等待，直到另一个线程调用该对象的 <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法或 <span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>​</p> <h3 id="system"><a href="#system" class="header-anchor">#</a> System</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">arraycopy</span><span class="token punctuation">(</span><span class="token class-name">Object</span> src<span class="token punctuation">,</span> <span class="token keyword">int</span> srcPos<span class="token punctuation">,</span> <span class="token class-name">Object</span> dest<span class="token punctuation">,</span> <span class="token keyword">int</span> destPos<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> 将指定源数组中的数组从指定位置复制到目标数组的指定位置。

<span class="token keyword">static</span> <span class="token keyword">long</span> <span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回当前时间（以毫秒为单位）。

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token keyword">int</span> status<span class="token punctuation">)</span> 终止当前运行的<span class="token class-name">Java</span>虚拟机。

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 运行垃圾回收器。

<span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getenv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回当前系统环境的不可修改的字符串映射视图。

<span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getenv</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> 获取指定环境变量的值。

<span class="token keyword">static</span> <span class="token class-name">Properties</span> <span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 确定当前的系统属性。

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">setProperties</span><span class="token punctuation">(</span><span class="token class-name">Properties</span> props<span class="token punctuation">)</span> 将系统属性设置为 <span class="token class-name">Properties</span>参数。

<span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> 获取指定键指示的系统属性。

<span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> 设置由指定键指示的系统属性。

<span class="token keyword">static</span> <span class="token class-name">SecurityManager</span> <span class="token function">getSecurityManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 获取系统安全界面。

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">setSecurityManager</span><span class="token punctuation">(</span><span class="token class-name">SecurityManager</span> s<span class="token punctuation">)</span> 设置系统安全性。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>​	
​</p> <h3 id="math"><a href="#math" class="header-anchor">#</a> Math</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span> 将第一个参数的值返回到第二个参数的幂。

<span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">)</span> 返回的正确舍入正平方根 <span class="token keyword">double</span>值。

<span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">ceil</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">)</span> 返回大于或等于参数的最小（最接近负无穷大） <span class="token keyword">double</span>值，等于一个数学整数。

<span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">)</span> 返回小于或等于参数的最大（最接近正无穷大） <span class="token keyword">double</span>值，等于一个数学整数。

<span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">)</span>：返回值为 <span class="token keyword">double</span>绝对值。

<span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span> 返回两个 <span class="token keyword">double</span>值中的较大值。

<span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span> 返回两个 <span class="token keyword">double</span>的较小值。

<span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回值为 <span class="token keyword">double</span>值为正号，大于等于 <span class="token number">0.0</span> ，小于 <span class="token number">1.0</span> 。

<span class="token keyword">static</span> <span class="token keyword">long</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">)</span>：返回参数中最接近的 <span class="token keyword">long</span> ，其中 <span class="token keyword">long</span>四舍五入为正无穷大。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>​	
​</p> <h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">String</span> charsetName<span class="token punctuation">)</span> 使用命名的字符集将此 <span class="token class-name">String</span>编码为字节序列，将结果存储到新的字节数组中。

<span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">)</span> 返回指定字符第一次出现的字符串内的索引。

<span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">)</span> 返回指定字符的最后一次出现的字符串中的索引。

<span class="token keyword">char</span> <span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> 返回 <span class="token keyword">char</span>指定索引处的值。

<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 将此字符串转换为新的字符数组。

<span class="token class-name">String</span> <span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回字符串对象的规范表示。

<span class="token class-name">String</span> <span class="token function">concat</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> 将指定的字符串连接到该字符串的末尾。

<span class="token class-name">String</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回一个字符串，其值为此字符串，并删除任何前导和尾随空格。

<span class="token class-name">String</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">char</span> oldChar<span class="token punctuation">,</span> <span class="token keyword">char</span> newChar<span class="token punctuation">)</span> 返回从替换所有出现的导致一个字符串 oldChar在此字符串 newChar 。

<span class="token class-name">String</span> <span class="token function">substring</span><span class="token punctuation">(</span><span class="token keyword">int</span> beginIndex<span class="token punctuation">)</span> 返回一个字符串，该字符串是此字符串的子字符串。

<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> 将此字符串分割为给定的 regular expression的匹配。

<span class="token keyword">boolean</span> <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token class-name">String</span> prefix<span class="token punctuation">)</span> 测试此字符串是否以指定的前缀开头。

<span class="token keyword">boolean</span> <span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token class-name">String</span> suffix<span class="token punctuation">)</span> 测试此字符串是否以指定的后缀结尾。

<span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> anObject<span class="token punctuation">)</span> 将此字符串与指定对象进行比较。

<span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回 <span class="token boolean">true</span>如果，且仅当 <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span>为 <span class="token number">0</span> 。

<span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> 告诉这个字符串是否匹配给定的 regular expression 。

<span class="token keyword">boolean</span> <span class="token function">regionMatches</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> ignoreCase<span class="token punctuation">,</span> <span class="token keyword">int</span> toffset<span class="token punctuation">,</span> <span class="token class-name">String</span> other<span class="token punctuation">,</span> <span class="token keyword">int</span> ooffset<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> 测试两个字符串区域是否相等。

<span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">copyValueOf</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">)</span> 相当于 <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 。

<span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> 返回 <span class="token class-name">Object</span>参数的字符串 <span class="token class-name">Object</span>形式。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>​</p> <h3 id="stringbuilder-stringbuffer"><a href="#stringbuilder-stringbuffer" class="header-anchor">#</a> StringBuilder/StringBuffer</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> 追加 <span class="token class-name">Object</span>参数的字符串表示。

<span class="token class-name">StringBuilder</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token class-name">Object</span> obj<span class="token punctuation">)</span> 将 <span class="token class-name">Object</span>参数的字符串表示插入到此字符序列中。

<span class="token class-name">StringBuilder</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> 删除此序列的子字符串中的字符。

<span class="token class-name">StringBuilder</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span> <span class="token function">deleteCharAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> 删除 <span class="token keyword">char</span>在这个序列中的指定位置 。

<span class="token class-name">StringBuilder</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">,</span> <span class="token class-name">String</span> str<span class="token punctuation">)</span> 用指定的<span class="token class-name">String</span>中的字符替换此序列的子字符串中的 <span class="token class-name">String</span> 。

<span class="token class-name">StringBuilder</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span> <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 导致该字符序列被序列的相反代替。

<span class="token keyword">int</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回长度（字符数）。

<span class="token keyword">int</span> <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回当前容量。

<span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> 返回指定子串的第一次出现的字符串中的索引，从指定的索引开始。

<span class="token keyword">int</span> <span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">)</span> 返回指定子字符串最后一次出现的字符串中的索引。

<span class="token keyword">char</span> <span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> 返回 <span class="token keyword">char</span>在指定索引在这个序列值。

<span class="token class-name">String</span> <span class="token function">substring</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> 返回一个新的 <span class="token class-name">String</span> ，其中包含此序列中当前包含的字符的子序列。

<span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回表示此顺序中的数据的字符串。

<span class="token keyword">void</span> <span class="token function">setCharAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span> 指定索引处的字符设置为 ch 。

<span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span><span class="token keyword">int</span> newLength<span class="token punctuation">)</span> 设置字符序列的长度。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>​	
​</p> <h3 id="string-stringbuilder-stringbuffer的区别"><a href="#string-stringbuilder-stringbuffer的区别" class="header-anchor">#</a> String/StringBuilder/StringBuffer的区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span>
	<span class="token class-name">String</span>底层使用了一个不可变的字符数组（<span class="token keyword">final</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span>）内容是不可变的字符。注：<span class="token keyword">final</span>修饰一个类，这个类不可以被继承，若是修饰一个变量，这个变量被赋值后不可以改变

<span class="token class-name">StringBuilder</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span>
	都是继承了<span class="token class-name">AbstractStringBuilder</span>类
	底层均为长度是<span class="token number">16</span>的<span class="token keyword">char</span>类型数组（数组长度不可更改），如果内容长度大于数组长度，则该数组会进行扩容，也就是创建一个新的数组进行数据存放，扩容规则为：当前数组长度<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span>，新数组包含旧数组的所有内容，并将新增内容填充到数组中。
	又称为可变字符序列，它是个字符串的缓冲区，即它是一个容器（字符串缓冲区是一个对象存在于堆内存中），容器中可以装很多字符串。并且能够对其中的字符串进行各种操作。它的内部拥有一个数组用来存放字符串内容，进行字符串拼接时，直接在数组中加入新内容。

	<span class="token class-name">StringBuilder</span>是线程不安全，而<span class="token class-name">StringBuffer</span>绝大多数方法被<span class="token keyword">synchronized</span>修饰，是线程安全的。
	
所以大多数情况下三者执行的效率为：<span class="token class-name">StringBuilder</span> <span class="token operator">&gt;</span> <span class="token class-name">StringBuffer</span> <span class="token operator">&gt;</span> <span class="token class-name">String</span>
	将<span class="token class-name">String</span><span class="token operator">+=</span><span class="token number">10</span>次后，则会产生<span class="token number">8</span>条垃圾数据，非常占用内存，而如果我们使用<span class="token class-name">StringBuilder</span>或<span class="token class-name">StringBuffer</span>的时候，则只会对数组进行扩容，增加的内容越多，<span class="token class-name">String</span>的效率则成线性增长，而缓冲区则会进行指数递减
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>​</p> <h3 id="string-str-aaa-与string-str-new-string-aaa-的区别"><a href="#string-str-aaa-与string-str-new-string-aaa-的区别" class="header-anchor">#</a> String str=”aaa”与String str=new String(“aaa”)的区别</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>内存分配不一样 前者是创建的是常量存在常量池中 后者创建的是对象在堆中

<span class="token number">1.</span>常量池：存放字符串常量和基本类型常量（运行时常量池并没有包含字符串常量池，运行时常量池存在于方法区中，而字符串常量池存在于堆中。）（<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span>）。 常量值通常直接存放在程序代码内部，这样做是安全的，因为它们永远不会被改变。
<span class="token number">2.</span>堆：一种通用性的内存池（也存在于RAM中），用于存放所有的JAVA对象。堆不同于堆栈的好处是：编译器不需要知道要从堆里分配多少存储区域，也不必知道存储的数据在堆里存活多长时间。因此，在堆里分配存储有很大的灵活性。当你需要创建一个对象的时候，只需要<span class="token keyword">new</span>写一行简单的代码，当执行这行代码时，会自动在堆里进行存储分配。当然，为这种灵活性必须要付出相应的代价。用堆进行存储分配比用堆栈进行存储存储需要更多的时间。
<span class="token number">3.</span>栈：存放基本类型的变量数据和对象的引用。位于通用RAM中，但通过它的“堆栈指针”可以从处理器哪里获得支持。堆栈指针若向下移动，则分配新的内存；若向上移动，则释放那些内存。这是一种快速有效的分配存储方法，仅次于寄存器。创建程序时候，JAVA编译器必须知道存储在堆栈内所有数据的确切大小和生命周期，因为它必须生成 相应的代码，以便上下移动堆栈指针。这一约束限制了程序的灵活性。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="字符串反转"><a href="#字符串反转" class="header-anchor">#</a> 字符串反转</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span>：<span class="token function">getbytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">&gt;</span> 倒序遍历
<span class="token class-name">StringBuild</span><span class="token operator">/</span><span class="token class-name">StringBuffer</span>：<span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="修改字符串的编码集"><a href="#修改字符串的编码集" class="header-anchor">#</a> 修改字符串的编码集</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span><span class="token comment">//默认是utf-8</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将utf-8转换为gbk	</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="collection"><a href="#collection" class="header-anchor">#</a> Collection</h3> <p>单列集合类的根接口，用于存储一系列符合某种规则的元素</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">boolean</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> 确保此集合包含指定的元素（可选操作）。

<span class="token keyword">boolean</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">)</span> 将指定集合中的所有元素添加到此集合（可选操作）。

<span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 从此集合中删除所有元素（可选操作）。

<span class="token keyword">boolean</span> <span class="token function">contains</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> 如果此集合包含指定的元素，则返回 <span class="token boolean">true</span> 。

<span class="token keyword">boolean</span> <span class="token function">containsAll</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">)</span> 如果此集合包含指定 集合中的所有元素，则返回<span class="token boolean">true</span>。

<span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> 将指定的对象与此集合进行比较以获得相等性。

<span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此集合的哈希码值。

<span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 如果此集合不包含元素，则返回 <span class="token boolean">true</span> 。

<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此集合中的元素的迭代器。

<span class="token keyword">default</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回可能并行的 <span class="token class-name">Stream</span>与此集合作为其来源。

<span class="token keyword">boolean</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> 从该集合中删除指定元素的单个实例（如果存在）（可选操作）。

<span class="token keyword">boolean</span> <span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">)</span> 删除指定集合中包含的所有此集合的元素（可选操作）。

<span class="token keyword">default</span> <span class="token keyword">boolean</span> <span class="token function">removeIf</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> filter<span class="token punctuation">)</span> 删除满足给定谓词的此集合的所有元素。

<span class="token keyword">boolean</span> <span class="token function">retainAll</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">)</span> 仅保留此集合中包含在指定集合中的元素（可选操作）。

<span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此集合中的元素数。

<span class="token keyword">default</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回以此集合作为源的顺序 <span class="token class-name">Stream</span> 。

<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回一个包含此集合中所有元素的数组。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="iterator"><a href="#iterator" class="header-anchor">#</a> Iterator</h3> <p>Iterator 主要用于迭代访问（即遍历） Collection中的元素，因此 Iterator 对象也被称为迭代器。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">E</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回迭代中的下一个元素。 

<span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 如果迭代具有更多元素，则返回 <span class="token boolean">true</span> 。

<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
	<span class="token class-name">Object</span> obj <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>​</p> <h3 id="list"><a href="#list" class="header-anchor">#</a> List</h3> <p>有序，可重复  Set接口 无序，不可重复</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">E</span> element<span class="token punctuation">)</span> 将指定的项目添加到由索引指示的位置的滚动列表中。

<span class="token class-name">E</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> 返回集合中指定位置的元素。

<span class="token class-name">E</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> 移除列表中指定位置的元素<span class="token punctuation">,</span> 返回的是被移除的元素。

<span class="token keyword">void</span> <span class="token function">removell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 从此列表中删除所有项目。 

<span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">E</span> element<span class="token punctuation">)</span> 用指定元素替换集合中指定位置的元素<span class="token punctuation">,</span>返回值的更新前的元素。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>​</p> <h3 id="arraylist"><a href="#arraylist" class="header-anchor">#</a> ArrayList</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：<span class="token class-name">ArrayList</span>底层使用的是<span class="token class-name">Object</span>数组

存储结构：物理存储单元上连续的存储结构。

线程是否安全：<span class="token class-name">ArrayList</span>是线程不安全的。

特点：既然是一串连续的存储结构，所以方便查找。但是要做新增和删除操作的时候，是要有移动位置的操作。所以<span class="token class-name">ArrayList</span>适用于存储，查询操作比较频繁的数据存储。为什么<span class="token class-name">ArratyList</span>是线程不安全的，因为<span class="token class-name">ArrayList</span>是非同步的，具体看源码<span class="token punctuation">(</span><span class="token class-name">ArrayList</span>的方法是没有加锁的，例<span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="vector"><a href="#vector" class="header-anchor">#</a> Vector</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：<span class="token class-name">Vector</span>底层使用的是<span class="token class-name">Object</span>数组。

存储结构：物理存储单元上连续的存储结构。

线程是否安全：<span class="token class-name">Vector</span>是线程安全的。<span class="token punctuation">(</span><span class="token class-name">Vector</span>类的方法都是有锁的，例<span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
特点：<span class="token class-name">Vector</span>是线程安全的，可以由多个线程访问一个<span class="token class-name">Vector</span>对象。但当一个线程访问的话，保证线程安全势必会消耗一定的资源（鱼与熊掌不可兼得啊）。一个线程访问就无需考虑是否线程安全的问题，建议使用<span class="token class-name">ArrayList</span>。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="linkedlist"><a href="#linkedlist" class="header-anchor">#</a> LinkedList</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：<span class="token class-name">LinkedList</span>底层使用的是双向循环链表数据结构

存储方式：物理存储单元上非连续、非顺序的存储结构。

线程是否安全：<span class="token class-name">LikedList</span>也是线程不安全的

特点：既然链表在物理存储单元上是非连续的，并且链表要拿出一部分空间去存储直接后继和前驱，所以每一个元素消耗的空间要比<span class="token class-name">ArrayList</span>大。并且由于它的存储结构，导致他的查询不是很方便，需要去遍历每一个节点，然后查找该节点后继节点。不适合存储需要大量查询操作的数据存储，但他的插入就比<span class="token class-name">ArrayList</span>方便，不需要进行换位操作。只需要改变指针前驱和后继。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> 将指定元素插入此列表的开头。

<span class="token keyword">void</span> <span class="token function">addLast</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> 将指定元素添加到此列表的结尾。

<span class="token class-name">E</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此列表的第一个元素。

<span class="token class-name">E</span> <span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此列表的最后一个元素。

<span class="token class-name">E</span> <span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 移除并返回此列表的第一个元素。

<span class="token class-name">E</span> <span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 移除并返回此列表的最后一个元素。

<span class="token class-name">E</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 从此列表所表示的堆栈处弹出一个元素。

<span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> 将元素推入此列表所表示的堆栈。

<span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 如果列表不包含元素，则返回<span class="token boolean">true</span>。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="hashset"><a href="#hashset" class="header-anchor">#</a> HashSet</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：哈希表<span class="token punctuation">(</span>数组<span class="token operator">+</span>链表<span class="token operator">&lt;</span>JDK1<span class="token punctuation">.</span><span class="token number">8</span><span class="token operator">&lt;</span>数组<span class="token operator">+</span>链表<span class="token operator">+</span>红黑树<span class="token punctuation">)</span>JDK1<span class="token punctuation">.</span><span class="token number">8</span>引入红黑树大程度优化了<span class="token class-name">HashMap</span>的性能，那么对于我们来讲保证<span class="token class-name">HashSet</span>集合元素的唯一，其实就是根据对象的hashCode和equals方来决定的。如果我们往集合中存放自定义的对象，那么保证其唯一， 就必须复写hashCode和equals方法建立属于当前对象的比较方式。

线程是否安全：不保证线程安全的

特点：元素没有顺序<span class="token punctuation">(</span>因为底层用的是<span class="token class-name">HashMap</span>，<span class="token class-name">HashMap</span>本身中的元素度没有顺序<span class="token punctuation">)</span>、元素不能重复。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="linkedhashset-extend-hashset。"><a href="#linkedhashset-extend-hashset。" class="header-anchor">#</a> LinkedHashSet <code>extend HashSet。</code></h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构<span class="token operator">:</span>链表和哈希表

线程是否安全：不保证线程安全的

特点：元素有顺序<span class="token punctuation">(</span>每个结点包括两个部分：一个是存储数据元素的数据域，另一个是存储下一个结点地址的指针域。<span class="token punctuation">)</span>元素不能重复。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>​</p> <h3 id="treeset"><a href="#treeset" class="header-anchor">#</a> TreeSet</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：底层数据结构是二叉树

线程是否安全：不保证线程安全的

特点：有序的，并且没有重复元素。可以指定一个顺序。
	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="collections-操作集合工具类"><a href="#collections-操作集合工具类" class="header-anchor">#</a> Collections （操作集合工具类）</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">boolean</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> elements<span class="token punctuation">)</span> 往集合中添加一些元素。
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> 打乱顺序 <span class="token operator">:</span>打乱集合顺序。
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> 将集合中元素按照默认规则排序。
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list，<span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">)</span> 将集合中元素按照指定规则排序。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>​</p> <h3 id="arrays-操作数组的工具类"><a href="#arrays-操作数组的工具类" class="header-anchor">#</a> Arrays （操作数组的工具类）</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> 对指定对象升序排列的阵列，根据natural ordering的元素。 
<span class="token function">toString</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> 返回指定数组的内容的字符串表示形式。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="comparable和comparator两个接口的区别"><a href="#comparable和comparator两个接口的区别" class="header-anchor">#</a> Comparable和Comparator两个接口的区别</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>cnblogs<span class="token punctuation">.</span>com<span class="token operator">/</span>skywang12345<span class="token operator">/</span>p<span class="token operator">/</span><span class="token number">3324788.</span>html
<span class="token class-name">Comparable</span>：强行对实现它的每个类的对象进行整体排序。这种排序被称为类的自然排序，类的compareTo方法 被称为它的自然比较方法。只能在类中实现<span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>一次，不能经常修改类的代码实现自己想要的排序。实现 此接口的对象列表（和数组）可以通过<span class="token class-name">Collections</span><span class="token punctuation">.</span>sort（和<span class="token class-name">Arrays</span><span class="token punctuation">.</span>sort）进行自动排序，对象可以用作有序映射中 的键或有序集合中的元素，无需指定比较器。

<span class="token class-name">Comparator</span>强行对某个对象进行整体排序。可以将<span class="token class-name">Comparator</span> 传递给sort方法（如<span class="token class-name">Collections</span><span class="token punctuation">.</span>sort或 <span class="token class-name">Arrays</span><span class="token punctuation">.</span>sort），从而允许在排序顺序上实现精确控制。还可以使用<span class="token class-name">Comparator</span>来控制某些数据结构（如有序set或 有序映射）的顺序，或者为那些没有自然顺序的对象collection提供排序。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>​</p> <h3 id="map接口"><a href="#map接口" class="header-anchor">#</a> Map接口</h3> <p>​	双列集合的根接口 不能包含重复的键，值可以重复；每个键只能对应一个值</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 从该地图中删除所有的映射（可选操作）。  

<span class="token class-name">Void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span> 把指定的键与指定的值添加到<span class="token class-name">Map</span>集合中。

<span class="token keyword">void</span> <span class="token function">putAll</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">K</span><span class="token punctuation">,</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">)</span> 将指定地图的所有映射复制到此映射（可选操作）。

<span class="token class-name">Void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> 把指定的键 所对应的键值对元素 在<span class="token class-name">Map</span>集合中删除，返回被删除元素的 值。

<span class="token class-name">Void</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> 根据指定的键，在<span class="token class-name">Map</span>集合中获取对应的值。

<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 获取<span class="token class-name">Map</span>集合中所有的键，存储到<span class="token class-name">Set</span>集合中。

<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token class-name">Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 获取到<span class="token class-name">Map</span>集合中所有的键值对对象的集合<span class="token punctuation">(</span><span class="token class-name">Set</span>集合<span class="token punctuation">)</span>。

<span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此地图中包含的值的<span class="token class-name">Collection</span>视图。

<span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回此地图中键值映射的数量。

<span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 如果此地图不包含键值映射，则返回 <span class="token boolean">true</span> 。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>​</p> <h3 id="hashmap"><a href="#hashmap" class="header-anchor">#</a> HashMap</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：哈希表

存储结构：

线程是否安全：非线程安全

特点：
    <span class="token class-name">Key</span>和<span class="token class-name">Value</span>都允许空、<span class="token class-name">Key</span>重复会覆盖、<span class="token class-name">Value</span>允许重复，适用于在<span class="token class-name">Map</span>中插入、删除和定位元素。
    使用<span class="token class-name">Iterator</span>迭代 
    重新计算hash值
    初始化数组为<span class="token number">16</span> 扩容是<span class="token number">2</span>的整数次幂
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>​</p> <h3 id="linkedhashmap-extend-hashmap"><a href="#linkedhashmap-extend-hashmap" class="header-anchor">#</a> LinkedHashMap <code>extend HashMap</code></h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：<span class="token class-name">HashMap</span><span class="token operator">+</span><span class="token class-name">LinkedList</span>

存储结构：

线程是否安全：非线程安全

特点：有序、<span class="token class-name">Key</span>和<span class="token class-name">Value</span>都允许空、<span class="token class-name">Key</span>重复会覆盖、<span class="token class-name">Value</span>允许重复
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="hashtable"><a href="#hashtable" class="header-anchor">#</a> Hashtable</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：哈希表

存储结构：

线程是否安全：线程安全

特点：
    key和value都不允许出现<span class="token keyword">null</span>值，
    使用<span class="token class-name">Iterator</span>和<span class="token class-name">Enumeration</span>迭代 
    直接使用对象的hsahCode
    初始化数组为<span class="token number">11</span> 扩容是原来的<span class="token number">2</span>倍<span class="token operator">+</span><span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="treemap"><a href="#treemap" class="header-anchor">#</a> TreeMap</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数据结构：树

存储结构：

线程是否安全：非线程安全

特点：有序的，适用于按自然顺序或自定义顺序遍历键（key）。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="properties-extend-hashtable"><a href="#properties-extend-hashtable" class="header-anchor">#</a> Properties <code>extend Hashtable</code></h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>来表示一个持久的属性集。它使用键值结构存储数据，每个键及其 对应值都是一个字符串。该类也被许多<span class="token class-name">Java</span>类使用，比如获取系统属性时， <span class="token class-name">System</span><span class="token punctuation">.</span>getProperties 方法就是返回 一个 <span class="token class-name">Properties</span> 对象。

<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> ： 保存一对属性。
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> ：使用此属性列表中指定的键搜索属性值。
<span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">stringPropertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ：所有键的名称的集合。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="java中常见的数据结构"><a href="#java中常见的数据结构" class="header-anchor">#</a> Java中常见的数据结构</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>数组：查询快，增删慢。只需要创建一个新的数组

链表：查询慢，增删快。只需要修改每个节点连接下一个节点的地址值。由一系列节点组成，每个节点包括两部分：一个是存储数据元素的数据域，另一个是存储下一个结点地址的指针域。

栈：先进先出，压栈、弹栈

队列：先进后出

红黑树：速度特别快<span class="token punctuation">,</span>趋近平衡树<span class="token punctuation">,</span>查找叶子元素最少和最多次数不多于二倍
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="final、finalize-、finally"><a href="#final、finalize-、finally" class="header-anchor">#</a> final、finalize()、finally</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>final 是关键词

finalize()是Object中的方法，当垃圾回收器将要回收对象所占内存之前被调用，即当一个对象被虚拟机宣告死亡时会先调用它finalize()方法，让此对象处理它生前的最后事情（这个对象可以趁这个时机挣脱死亡的命运）。类似于C++中的析构函数；用户自定义时，用于释放对象占用的资源（比如进行I/0操作）

finally{}用于标识代码块，与try{}进行配合，不论try中的代码执行完或没有执行完（这里指有异常），该代码块之中的程序必定会进行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="js中-和-的区别"><a href="#js中-和-的区别" class="header-anchor">#</a> js中==和===的区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token operator">==</span>是相等运算符，而<span class="token operator">==</span><span class="token operator">=</span>是严格运算符要比较值的类型或者比较对象的类型（<span class="token keyword">null</span>和undefined自身严格相等）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="java中-和-的区别"><a href="#java中-和-的区别" class="header-anchor">#</a> Java中&amp;和&amp;&amp;的区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token operator">&amp;</span>	比较所有条件，执行所有条件 

<span class="token operator">&amp;&amp;</span>	有短路效应从左往右有一个为<span class="token boolean">false</span> 后面的代码不执行

<span class="token operator">||</span>	也有短路特性
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>​</p> <h3 id="基本数据类型的取值范围"><a href="#基本数据类型的取值范围" class="header-anchor">#</a> 基本数据类型的取值范围</h3> <p>$$
整数型:[-2^{字节数<em>8-1},2^{字节数</em>8-1}-1]
$$</p> <table><thead><tr><th style="text-align:center;"><strong>数据类型</strong></th> <th style="text-align:center;"><strong>字节数</strong></th> <th style="text-align:center;"><strong>范围</strong></th> <th style="text-align:center;"><strong>规律</strong></th></tr></thead> <tbody><tr><td style="text-align:center;">byte</td> <td style="text-align:center;">1</td> <td style="text-align:center;">-128～127</td> <td style="text-align:center;">-27～27-1</td></tr> <tr><td style="text-align:center;">short</td> <td style="text-align:center;">2</td> <td style="text-align:center;">-32768～32767</td> <td style="text-align:center;">-215～215-1</td></tr> <tr><td style="text-align:center;">int</td> <td style="text-align:center;">4</td> <td style="text-align:center;">-2147483648～2147483647</td> <td style="text-align:center;">-231～231-1</td></tr> <tr><td style="text-align:center;">long</td> <td style="text-align:center;">8</td> <td style="text-align:center;">-9223372036854775808 ~ 9223372036854775807</td> <td style="text-align:center;">-263～263-1</td></tr> <tr><td style="text-align:center;">float</td> <td style="text-align:center;">4</td> <td style="text-align:center;">1.4E-45~3.4028235E38</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">double</td> <td style="text-align:center;">8</td> <td style="text-align:center;">4.9E-324~1.7976931348623157E308</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">char</td> <td style="text-align:center;">2</td> <td style="text-align:center;">0～65535</td> <td style="text-align:center;">0~216-1</td></tr> <tr><td style="text-align:center;">boolean</td> <td style="text-align:center;">1</td> <td style="text-align:center;">true/false</td> <td style="text-align:center;">true/false</td></tr></tbody></table> <h3 id="强制类型会出现哪些问题"><a href="#强制类型会出现哪些问题" class="header-anchor">#</a> 强制类型会出现哪些问题</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>浮点转成整数<span class="token punctuation">,</span>直接取消小数点<span class="token punctuation">,</span>可能造成数据损失精度。

<span class="token keyword">int</span>强制转成<span class="token keyword">short</span>砍掉<span class="token number">2</span>个字节<span class="token punctuation">,</span>可能造成数据丢失
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ascii码表常见的字符"><a href="#ascii码表常见的字符" class="header-anchor">#</a> ASCII码表常见的字符</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">0</span><span class="token operator">-</span><span class="token number">48</span>
<span class="token class-name">A</span><span class="token operator">-</span><span class="token number">65</span>
a<span class="token operator">-</span><span class="token number">97</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="获取一个类的class的三种方式"><a href="#获取一个类的class的三种方式" class="header-anchor">#</a> 获取一个类的class的三种方式</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>类<span class="token punctuation">.</span><span class="token keyword">class</span>

对象<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="创建对象除了new还有其他方式吗"><a href="#创建对象除了new还有其他方式吗" class="header-anchor">#</a> 创建对象除了new还有其他方式吗</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>通过反射（spring中工厂模式解耦）
<span class="token class-name">Class</span> stuClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;Student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Constructor</span> constructor <span class="token operator">=</span> stuClass<span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span> stu2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> constructor<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span> stu2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> stu1<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//object的clone()</span>

使用序列化
实现<span class="token class-name">Cloneable</span>和<span class="token class-name">Serializable</span>接口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="如果成员变量-构造方法-成员方法是被非public修饰如何访问"><a href="#如果成员变量-构造方法-成员方法是被非public修饰如何访问" class="header-anchor">#</a> 如果成员变量，构造方法，成员方法是被非public修饰如何访问</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>在调用<span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>和<span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法之前需要调用field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

在调用<span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法之前需要调用constructor<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

在调用<span class="token function">invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法之前需要调用method<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>对象调用方法时<span class="token punctuation">,</span>根据对象中方法标记的地址值<span class="token punctuation">,</span>去方法区的对应类<span class="token punctuation">.</span><span class="token keyword">class</span>中寻找方法信息<span class="token punctuation">.</span>这样哪怕对象有多个<span class="token punctuation">,</span>方法信息只保存一次<span class="token punctuation">,</span>节省了内存空间<span class="token punctuation">.</span>

如果父类只有有参构造，那么子类必须重写父类的构造方法 

创建一个子类对象的时候，那么父类的构造方法会执行，子类的构造默认调用父类的构造

当父类引用指向子类对象的时候，子类重写了父类方法和属性，访问的是父类的属性，调用的是子类的方法。

lambda的一个特性延迟加载 减少资源消耗提高性能（mybatis的一级缓存也可以设置延迟加载，默认是关闭的）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="抽象类一定要有抽象方法吗"><a href="#抽象类一定要有抽象方法吗" class="header-anchor">#</a> 抽象类一定要有抽象方法吗</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>抽象类不一定需要抽象方法，但是一定是<span class="token class-name">Abstract</span>修饰的 包含抽象方法的类一定是抽象类
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="抽象类可以使用final修饰吗"><a href="#抽象类可以使用final修饰吗" class="header-anchor">#</a> 抽象类可以使用final修饰吗？</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>不可以。定义抽象类就是让其他继承的，而<span class="token keyword">final</span>修饰类表示该类不能被继承，与抽象类的理念违背了
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="普通类与抽象类有什么区别"><a href="#普通类与抽象类有什么区别" class="header-anchor">#</a> 普通类与抽象类有什么区别？</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>普通类不能包含抽象方法，抽象类可以包含抽象方法

抽象类不能直接实例化，普通类可以直接实例化
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>​</p> <h3 id="java为什么需要接口"><a href="#java为什么需要接口" class="header-anchor">#</a> JAVA为什么需要接口？</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>接口弥补了java单继承的缺点
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="接口有什么特点"><a href="#接口有什么特点" class="header-anchor">#</a> 接口有什么特点？</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>接口中声明全是<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span>修饰的常量

接口中所有方法都是抽象方法

接口是没有构造方法的

接口也不能直接实例化

接口可以多继承
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>​</p> <h3 id="java9中接口中可以有"><a href="#java9中接口中可以有" class="header-anchor">#</a> Java9中接口中可以有</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>1. 成员变量其实是常量，格式：
[public] [static] [final] 数据类型 常量名称 = 数据值;
注意：
	常量必须进行赋值，而且一旦赋值不能改变。
	常量名称完全大写，用下划线进行分隔。

2. 接口中最重要的就是抽象方法，格式：
[public] [abstract] 返回值类型 方法名称(参数列表);
注意：实现类必须覆盖重写接口所有的抽象方法，除非实现类是抽象类。

3. 从Java 8开始，接口里允许定义默认方法，格式：
[public] default 返回值类型 方法名称(参数列表) { 方法体 }
注意：默认方法也可以被覆盖重写

4. 从Java 8开始，接口里允许定义静态方法，格式：
[public] static 返回值类型 方法名称(参数列表) { 方法体 }
注意：应该通过接口名称进行调用，不能通过实现类对象调用接口静态方法

5. 从Java 9开始，接口里允许定义私有很乏，格式：
普通私有方法：private 返回值类型 方法名称(参数列表) { 方法体 }
静态私有方法：private static 返回值类型 方法名称(参数列表) { 方法体 }
注意：private的方法只有接口自己才能调用，不能被实现类或别人使用。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="接口与抽象类有什么区别"><a href="#接口与抽象类有什么区别" class="header-anchor">#</a> 接口与抽象类有什么区别？</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>抽象类有构造方法，接口没有构造方法

抽象类只能单继承，接口可以多继承

抽象类可以有普通方法，接口中的所有方法都是抽象方法

接口的属性都是<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span>修饰的，而抽象的不是
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>​</p> <h3 id="重载、重写"><a href="#重载、重写" class="header-anchor">#</a> 重载、重写</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Overload</span>为重载，是一个类中多态性的一种表现	
如果在一个类中定义了多个同名的方法，它们或有不同的参数个数或有不同的参数类型，则称为方法的重载<span class="token punctuation">(</span><span class="token class-name">Overload</span><span class="token punctuation">)</span>。重载的方法是可以改变返回值的类型。

<span class="token class-name">Override</span>为重写，是父类与子类之间多态性的一种表现
如果在子类中定义某方法与其父类有相同的名称和参数，我们说该方法被重写 <span class="token punctuation">(</span><span class="token class-name">Override</span><span class="token punctuation">)</span>。子类的对象使用这个方法时，将调用子类中的定义，对它而言，父类中的定义如同被<span class="token string">&quot;屏蔽&quot;</span>了。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="线程与进程的区别"><a href="#线程与进程的区别" class="header-anchor">#</a> 线程与进程的区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>进程和线程的关系：
	一个线程只能属于一个进程，而一个进程可以有多个线程，但至少有一个线程。
	资源分配给进程，同一进程的所有线程共享该进程的所有资源。
	线程在执行过程中，需要协作同步。不同进程的线程间要利用消息通信的办法实现同步。
	线程是指进程内的一个执行单元，也是进程内的可调度实体。
	
线程与进程的区别：
	调度：线程作为调度和分配的基本单位，进程作为拥有资源的基本单位。
	并发性：不仅进程之间可以并发执行，同一个进程的多个线程之间也可以并发执行。
	拥有资源：进程是拥有资源的一个独立单位，线程不拥有系统资源，但可以访问隶属于进程的资源。
	系统开销：在创建或撤销进程的时候，由于系统都要为之分配和回收资源，导致系统的明显大于创建或撤销线程时的开销。但进程有独立的地址空间，进程崩溃后，在保护模式下不会对其他的进程产生影响，而线程只是一个进程中的不同的执行路径。
	线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于整个进程死掉，所以多进程的程序要比多线程的程序健壮，但是在进程切换时，耗费的资源较大，效率要差些。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="thread的wait-和sleep-的区别"><a href="#thread的wait-和sleep-的区别" class="header-anchor">#</a> Thread的wait()和sleep()的区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">)</span>	不释放锁<span class="token punctuation">,</span>时间到了自己醒，

<span class="token keyword">void</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 会释放锁<span class="token punctuation">,</span>无限等待，直到另一个线程调用该对象的<span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>或<span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="线程的六种状态"><a href="#线程的六种状态" class="header-anchor">#</a> 线程的六种状态</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> 初始<span class="token punctuation">(</span>NEW<span class="token punctuation">)</span>：新创建了一个线程对象，但还没有调用<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法。

<span class="token number">2.</span> 可运行<span class="token punctuation">(</span>RUNNABLE<span class="token punctuation">)</span>：<span class="token class-name">Java</span>线程中将就绪（ready）和运行中（running）两种状态笼统的称为“运行”。

线程对象创建后，其他线程<span class="token punctuation">(</span>比如main线程）调用了该对象的<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法。该状态的线程位于可运行线程池中，等待被线程调度选中，获取CPU的使用权，此时处于就绪状态（ready）。就绪状态的线程在获得CPU时间片后变为运行中状态（running）。

<span class="token number">3.</span> 阻塞<span class="token punctuation">(</span>BLOCKED<span class="token punctuation">)</span>：表示线程阻塞于锁。

<span class="token number">4.</span> 等待<span class="token punctuation">(</span>WAITING<span class="token punctuation">)</span>：进入该状态的线程需要等待其他线程做出一些特定动作（通知或中断）。

<span class="token number">5.</span> 超时等待<span class="token punctuation">(</span>TIMED_WAITING<span class="token punctuation">)</span>：该状态不同于WAITING，它可以在指定的时间后自行返回。

<span class="token number">6.</span> 终止<span class="token punctuation">(</span>TERMINATED<span class="token punctuation">)</span>：表示该线程已经执行完毕。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="创建线程常见的2种方式"><a href="#创建线程常见的2种方式" class="header-anchor">#</a> 创建线程常见的2种方式</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>继承<span class="token class-name">Thread</span>类 

实现<span class="token class-name">Runable</span>接口
	<span class="token class-name">Runnable</span>接口创建多线程的好处<span class="token operator">:</span>
        避免了单继承的局限性
        增强了程序的扩展性<span class="token punctuation">,</span>降低了的程序的耦合性<span class="token punctuation">(</span>解耦<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="并发与并行"><a href="#并发与并行" class="header-anchor">#</a> 并发与并行</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>并发<span class="token operator">:</span>两个或多个事件在同一个时间段发生<span class="token punctuation">(</span>交替执行<span class="token punctuation">)</span>

并行<span class="token operator">:</span>两个或多个事件在同一个时刻段发生<span class="token punctuation">(</span>同时进行<span class="token punctuation">)</span>

<span class="token class-name">Java</span>多线程编程可以开<span class="token number">1000</span>个线程，而go语言可以开<span class="token number">100</span>w个线程
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="线程安全问题产生的原因"><a href="#线程安全问题产生的原因" class="header-anchor">#</a> 线程安全问题产生的原因</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>多线程环境

访问共享资源

多条语句访问共享资源<span class="token punctuation">(</span>多语句是一个逻辑整体<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="解决线程安全同步的三种方法"><a href="#解决线程安全同步的三种方法" class="header-anchor">#</a> 解决线程安全同步的三种方法</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>同步代码快
	<span class="token keyword">synchronized</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">{</span>代码块<span class="token punctuation">}</span>
		
同步方法
	<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
        
锁机制 实现<span class="token class-name">Look</span>接口 
    <span class="token class-name">Look</span> look <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
    	lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//上锁</span>
    	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">finally</span><span class="token punctuation">{</span>
    	lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//释放锁</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>​</p> <h3 id="合理利用线程池能够带来三个好处"><a href="#合理利用线程池能够带来三个好处" class="header-anchor">#</a> 合理利用线程池能够带来三个好处</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>降低资源消耗。减少了创建和销毁线程的次数，每个工作线程都可以被重复利用，可执行多个任务。 

<span class="token number">2.</span>提高响应速度。当任务到达时，任务可以不需要的等到线程创建就能立即执行。 

<span class="token number">3.</span>提高线程的可管理性。可以根据系统的承受能力，调整线程池中工作线程的数目，防止因为消耗过多的内存，而把服务器累趴下<span class="token punctuation">(</span>每个线程需要大约<span class="token number">1</span>MB内存，线程开的越多，消耗的内存也就越大，最后死机<span class="token punctuation">)</span>。 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="throwable的2个子类"><a href="#throwable的2个子类" class="header-anchor">#</a> Throwable的2个子类</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Error</span>：错误无法避免

<span class="token class-name">Exception</span>：异常可以避免
		编译时期异常<span class="token operator">:</span>checked异常。在编译时期<span class="token punctuation">,</span>就会检查<span class="token punctuation">,</span>如果没有处理异常<span class="token punctuation">,</span>则编译失败。<span class="token punctuation">(</span>如日期格式化异常<span class="token punctuation">)</span> 
		运行时期异常<span class="token operator">:</span>runtime异常。在运行时期<span class="token punctuation">,</span>检查异常<span class="token punctuation">.</span>在编译时期<span class="token punctuation">,</span>运行异常不会编译器检测<span class="token punctuation">(</span>不报错<span class="token punctuation">)</span>。<span class="token punctuation">(</span>如数学异常<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>​</p> <h3 id="处理异常的方式"><a href="#处理异常的方式" class="header-anchor">#</a> 处理异常的方式</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>声明异常：<span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> 异常类名<span class="token number">1</span>，异常类名<span class="token number">2</span><span class="token punctuation">{</span>代码<span class="token punctuation">}</span> 把异常交给jvm处理

捕获异常：
	<span class="token keyword">try</span><span class="token punctuation">{</span>
		可能出现异常的代码
	<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>异常类型 e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    	处理异常的代码<span class="token comment">//记录日志、打印异常信息、继续抛出异常</span>
    <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
    	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="常见的编译器异常"><a href="#常见的编译器异常" class="header-anchor">#</a> 常见的编译器异常</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>NullPointerException：空指针异常

ArrayIndexOutOfBoundsException：数组下标越界

NumberFormatException：数字转换异常

IllegalArgumentException：参数不匹配异常

InstantiationException：对象初始化异常

ArithmeticException：算术异常
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="log4j日志级别"><a href="#log4j日志级别" class="header-anchor">#</a> log4j日志级别</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>DEBUG：输出调试信息；指出细粒度信息事件对调试应用程序是非常有帮助的。 

INFO： 输出提示信息；消息在粗粒度级别上突出强调应用程序的运行过程。

WARN： 输出警告信息；表明会出现潜在错误的情形。 

ERROR：输出错误信息；指出虽然发生错误事件，但仍然不影响系统的继续运行。 

FATAL： 输出致命错误；指出每个严重的错误事件将会导致应用程序的退出。 

ALL level：打开所有日志记录开关；是最低等级的，用于打开所有日志记录。 

OFF level：关闭所有日志记录开关；是最高等级的，用于关闭所有日志记录。

按照范围从小到大排序：OFF level <span class="token operator">&gt;</span> FATAL <span class="token operator">&gt;</span> ERROR <span class="token operator">&gt;</span> WARN <span class="token operator">&gt;</span> INFO <span class="token operator">&gt;</span> DEBUG <span class="token operator">&gt;</span> ALL level；范围大的会包含范围小的，例如日志设置为INFO级别的话则FATAL、ERROR、WARN、INFO的日志开关都是打开的，而DEBUG的日志开关将是关闭的。

<span class="token class-name">Log4j</span>建议只使用四个级别，优先级从高到低分别是 ERROR、WARN、INFO、DEBUG。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="函数接口"><a href="#函数接口" class="header-anchor">#</a> 函数接口</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>一个接口有且仅有一个抽象方法，那么这个接口就是函数式接口。
<span class="token annotation punctuation">@FunctionalInterface</span>写在接口名上面，用于检测接口是不是函数式接口。
supplier	生产型		get方法		有返回值
consumer	消费性		accept方法	无返回值
predicate	判断型		test方法		有返回值
function	转换型		apply方法		有返回值<span class="token punctuation">,</span>参数有<span class="token number">2</span>中前转后类型
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="序列化流"><a href="#序列化流" class="header-anchor">#</a> 序列化流</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ObjectOutputStream</span>类<span class="token operator">:</span>序列化对象<span class="token operator">--</span><span class="token operator">&gt;</span>将对象转化为字节写入文件中
	注意<span class="token operator">:</span>
		<span class="token number">1.</span>需要实现<span class="token function">serializable</span><span class="token punctuation">(</span>标记接口<span class="token punctuation">,</span>里面啥都没有<span class="token punctuation">,</span>如果没有会抛异常<span class="token punctuation">)</span>
		<span class="token number">2.</span>用<span class="token keyword">transient</span><span class="token punctuation">(</span><span class="token keyword">static</span><span class="token punctuation">,</span>该类创建的对象的该成员变量都是一样的<span class="token punctuation">,</span>只允许在本类使用<span class="token punctuation">)</span>修饰的成员变量不能被序列化
<span class="token class-name">ObjectInputStream</span>类<span class="token operator">:</span>反序列化对象<span class="token operator">--</span><span class="token operator">&gt;</span>将字节转化为对现象读取
	注意<span class="token operator">:</span>
		<span class="token number">1.</span>文件必须存在<span class="token punctuation">,</span>没有就抛出类没有找到异常
		<span class="token number">2.</span>当序列化完成在反序列化之前修改了类<span class="token punctuation">(</span>serialVersionUID的值也会发生改变<span class="token punctuation">,</span>这个属性是隐藏的<span class="token punctuation">)</span><span class="token punctuation">,</span>会抛出 <span class="token class-name">InvalidClassException</span> 异常
	
	解决方案<span class="token operator">:</span>
		<span class="token number">1.</span>修改类一定要在序列化之前
		<span class="token number">2.</span>将该类的serialVersionUID固定使用<span class="token operator">?</span><span class="token keyword">private</span><span class="token operator">?</span><span class="token keyword">static</span><span class="token operator">?</span><span class="token keyword">final</span><span class="token operator">?</span><span class="token keyword">long</span><span class="token operator">?</span>serialVersionUID <span class="token operator">=</span> <span class="token operator">?</span> 来修饰该类
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="网络编程三要素"><a href="#网络编程三要素" class="header-anchor">#</a> 网络编程三要素</h3> <p>​</p> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>通讯协议（规则）
		UDP <span class="token punctuation">(</span>广播类型单方面传输<span class="token punctuation">)</span> 特点<span class="token operator">:</span>耗资低<span class="token punctuation">,</span>效率高<span class="token punctuation">,</span>不安全<span class="token punctuation">,</span>容易丢包
		TCP <span class="token punctuation">(</span>三次握手<span class="token punctuation">,</span>建立连接才能通信<span class="token punctuation">)</span> 特点<span class="token operator">:</span>耗资不低<span class="token punctuation">,</span>效率不低<span class="token punctuation">,</span>安全<span class="token punctuation">,</span>不丢包
		
<span class="token number">2.</span>网络<span class="token function">ip</span><span class="token punctuation">(</span>电脑网络地址<span class="token punctuation">)</span>
	<span class="token function">ipv4</span><span class="token punctuation">(</span><span class="token number">4</span>个字节<span class="token punctuation">)</span>
    <span class="token function">ipv6</span><span class="token punctuation">(</span><span class="token number">8</span>个<span class="token number">16</span>进制<span class="token punctuation">)</span>
    	cmd <span class="token operator">--</span><span class="token operator">&gt;</span> ping ipconfig 查看自己的ip
                ping localhost 访问本地网址
                ping <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> 访问本地ip

<span class="token number">3.</span>端口<span class="token operator">:</span><span class="token punctuation">(</span>电脑程序编号，电脑上的程序都有各自的端口来识别身份<span class="token punctuation">)</span>
	端口是<span class="token number">2</span>个字节组成一共有<span class="token number">0</span><span class="token operator">~</span><span class="token number">65535</span>个
	常见软件的端口
		网络端口<span class="token operator">:</span><span class="token number">80</span>
		<span class="token class-name">MySQL</span><span class="token operator">:</span><span class="token number">3306</span> 
		<span class="token class-name">Oracle</span><span class="token operator">:</span><span class="token number">1521</span>
		<span class="token class-name">Tomcat</span>服务器<span class="token operator">:</span><span class="token number">8080</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>​</p> <h3 id="stream流"><a href="#stream流" class="header-anchor">#</a> Stream流</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Stream</span>流是操纵集合的函数<span class="token punctuation">(</span>方法<span class="token punctuation">)</span>模型<span class="token punctuation">,</span>通俗的说就是一条操作集合的流水线，其中有很多已经定义好的操作集合的方法供我们使用<span class="token punctuation">,</span><span class="token class-name">Stream</span>流对象本身不存储数据。

获取<span class="token class-name">Stream</span>流对象：能够通过集合、<span class="token class-name">Map</span>或数组获取流
        list集合获取<span class="token class-name">Stream</span>流：<span class="token class-name">Stream</span> stream<span class="token operator">=</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        set集合获取<span class="token class-name">Stream</span>流：<span class="token class-name">Stream</span> stream<span class="token operator">=</span>set<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        数组集合获取<span class="token class-name">Stream</span>流：<span class="token class-name">Stream</span> stream<span class="token operator">=</span><span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map集合获取<span class="token class-name">Stream</span>流：不能直接获取，需要先调用<span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>、<span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>、<span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>获取单列集合，再通过单列集合获取<span class="token class-name">Stream</span>流对象
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>​</p> <h3 id="stream中的方法分类"><a href="#stream中的方法分类" class="header-anchor">#</a> Stream中的方法分类</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>延迟方法 返回值类型不发生改变 所以支持链式编程 <span class="token punctuation">(</span><span class="token number">1.</span><span class="token operator">?</span> <span class="token number">2.</span>每个延迟方法返回的是一个新的流对象<span class="token punctuation">,</span>stringbuilder不是返回新对象<span class="token punctuation">)</span>
<span class="token number">2.</span>终结方法 返回值类型改变 所以不支持链式编程 count和foreach
	具体常用方法
		<span class="token keyword">void</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span><span class="token punctuation">;</span>		遍历六种的数据<span class="token punctuation">(</span>终结方法<span class="token punctuation">)</span>
		<span class="token class-name">Stream</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>	过滤流中的数据<span class="token punctuation">(</span>延迟方法<span class="token punctuation">)</span>
		<span class="token keyword">int</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>							获取流中的数据<span class="token punctuation">(</span>终结方法<span class="token punctuation">)</span>
		<span class="token class-name">Stream</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> fun<span class="token punctuation">)</span><span class="token punctuation">;</span>			转换流中的数据<span class="token punctuation">(</span>终结方法<span class="token punctuation">)</span>
		<span class="token class-name">Stream</span> <span class="token function">limit</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxSize<span class="token punctuation">)</span><span class="token punctuation">;</span>				截取前几个数据<span class="token punctuation">(</span>延迟方法<span class="token punctuation">)</span>
		<span class="token class-name">Stream</span> <span class="token function">skip</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>						跳过前几个数据<span class="token punctuation">(</span>延迟方法<span class="token punctuation">)</span>
    	<span class="token keyword">static</span> <span class="token class-name">Stream</span> <span class="token function">concat</span><span class="token punctuation">(</span><span class="token class-name">Stream</span> a<span class="token punctuation">,</span><span class="token class-name">Stream</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>将两个<span class="token class-name">Stream</span>流对象a和b合并成一个新的<span class="token class-name">Stream</span>流对象并返回。
        
注意事项：
        <span class="token number">1.</span><span class="token class-name">Stream</span>流不是操作<span class="token class-name">List</span>集合本身，操作的是临时数据，原<span class="token class-name">List</span>集合中的数据不变。
        <span class="token number">2.</span><span class="token class-name">Stream</span>流对象时一次性的，使用了之后就不能再使用，每一个延迟方法返回的都是一个新的<span class="token class-name">Stream</span>流对象。	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>​</p> <h3 id="stream流转换成集合和数组"><a href="#stream流转换成集合和数组" class="header-anchor">#</a> Stream流转换成集合和数组</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code> <span class="token class-name">List</span> list<span class="token operator">=</span>stream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token class-name">Set</span> set<span class="token operator">=</span>stream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token operator">=</span>stream<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="js中能够返回false值的有哪些"><a href="#js中能够返回false值的有哪些" class="header-anchor">#</a> JS中能够返回false值的有哪些</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>0
NaN
&quot;&quot;  即空字符串
false
null
undefined
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>​</p> <h3 id="js中类型转换"><a href="#js中类型转换" class="header-anchor">#</a> js中类型转换</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>string <span class="token operator">--</span><span class="token operator">&gt;</span> number：按照字面值转换。如果字面值不是数字，则转为<span class="token number">NaN</span>（Not a number）
boolean <span class="token operator">--</span><span class="token operator">&gt;</span> number：<span class="token boolean">true</span>转为<span class="token number">1</span>，<span class="token boolean">false</span>转为<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="js中的函数特点"><a href="#js中的函数特点" class="header-anchor">#</a> js中的函数特点</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>Function：函数(方法)对象
           创建：
                1. var fun = new Function(形式参数列表,方法体);  //不常用
                
                2. 
                    function 方法名称(形式参数列表){
                        方法体
                    }

                3. 
                   var 方法名 = function(形式参数列表){
                        方法体
                   }

            属性：
                length:代表形参的个数
           特点：
                1. 方法定义是，形参的类型不用写,返回值类型也不写。
                2. 方法是一个对象，如果定义名称相同的方法，会覆盖
                3. 在JS中，方法的调用只与方法的名称有关，和参数列表无关
                4. 在方法声明中有一个隐藏的内置对象（数组），arguments,封装所有的实际参数
            调用：
                方法名称(实际参数列表);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="js中常用的对象"><a href="#js中常用的对象" class="header-anchor">#</a> js中常用的对象</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token operator">:</span>数组对象
	创建：
        <span class="token number">1.</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>元素列表<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token number">2.</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>默认长度<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token number">3.</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>元素列表<span class="token punctuation">]</span><span class="token punctuation">;</span>
	方法
        <span class="token function">join</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span><span class="token operator">:</span>将数组中的元素按照指定的分隔符拼接为字符串
        <span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	向数组的末尾添加一个或更多元素，并返回新的长度。
	特点：
        <span class="token number">1.</span> <span class="token constant">JS</span>中，数组元素的类型可变的。
        <span class="token number">2.</span> <span class="token constant">JS</span>中，数组长度可变的。
        
Date：日期对象
	创建：
        <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	方法：
        <span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>：返回当前date对象对应的时间本地字符串格式
        <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>获取毫秒值。返回当前如期对象描述的时间到<span class="token number">1970</span>年<span class="token number">1</span>月<span class="token number">1</span>日零点的毫秒值差
        
Math：数学对象
	创建：
		特点：Math对象不用创建，直接使用。  Math<span class="token punctuation">.</span><span class="token function">方法名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	方法：
        <span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>返回 <span class="token number">0</span> <span class="token operator">~</span> <span class="token number">1</span> 之间的随机数。 含<span class="token number">0</span>不含<span class="token number">1</span>
        <span class="token function">ceil</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>：对数进行上舍入。
        <span class="token function">floor</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>：对数进行下舍入。
        <span class="token function">round</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>：把数四舍五入为最接近的整数。

Global：全局对象
	特点：全局对象，这个Global中封装的方法不需要对象就可以直接调用。
	方法：
        <span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>url编码
        <span class="token function">decodeURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>url解码
        <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>url编码<span class="token punctuation">,</span>编码的字符更多
        <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>url解码
        
		<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>将字符串转为数字
        <span class="token operator">*</span> 逐一判断每一个字符是否是数字，直到不是数字为止，将前边数字部分转为number
        <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>判断一个值是否是<span class="token number">NaN</span>
        <span class="token operator">*</span> <span class="token number">NaN</span>六亲不认，连自己都不认。<span class="token number">NaN</span>参与的<span class="token operator">==</span>比较全部问<span class="token boolean">false</span>

<span class="token function">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>将 JavaScript 字符串，并把它作为脚本代码来执行。

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="dom操作基本步骤"><a href="#dom操作基本步骤" class="header-anchor">#</a> DOM操作基本步骤</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>第1步：获取标签元素对象
var e = document.getElementById(&quot;id值&quot;);

第2步：操作属性、内容体和样式
获取属性值：var value=e.属性名;
设置属性值：e.属性名=&quot;值&quot;;

获取内容体：var value=e.innerHTML
设置内容体：e.innerHTML=&quot;值&quot;;
追加内容体：e.innerHTML+=&quot;值&quot;;

设置样式：
    e.style.样式名=&quot;样式值&quot;;
    e.className=&quot;class选择器名称&quot;;  //前提：需要提前使用类选择器写好样式，适合要添加的样式多的情况。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">W3C</span> <span class="token constant">DOM</span> 标准被分为 <span class="token number">3</span> 个不同的部分：
	核心 <span class="token constant">DOM</span> <span class="token operator">-</span> 针对任何结构化文档的标准模型
        Node：节点对象，一下<span class="token number">5</span>个的父对象
        Document：文档对象
        Element：元素对象
        Attribute：属性对象
        Text：文本对象
        Comment<span class="token operator">:</span>注释对象
		
	<span class="token constant">XML</span> <span class="token constant">DOM</span> <span class="token operator">-</span> 针对 <span class="token constant">XML</span> 文档的标准模型
	<span class="token constant">HTML</span> <span class="token constant">DOM</span> <span class="token operator">-</span> 针对 <span class="token constant">HTML</span> 文档的标准模型
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="核心dom"><a href="#核心dom" class="header-anchor">#</a> 核心DOM</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>Document：文档对象
    1. 创建(获取)：在html dom模型中可以使用window对象来获取
        1. window.document
        2. document
    2. 方法：
        1. 获取Element对象：
            1. getElementById()	： 根据id属性值获取元素对象。id属性值一般唯一
            2. getElementsByTagName()：根据元素名称获取元素对象们。返回值是一个数组
            3. getElementsByClassName():根据Class属性值获取元素对象们。返回值是一个数组
            4. getElementsByName(): 根据name属性值获取元素对象们。返回值是一个数组
        2. 创建其他DOM对象：
            createAttribute(name)
                createComment()
                createElement()
                createTextNode()
    
Element：元素对象
    1. 获取/创建：通过document来获取和创建
    2. 方法：
        1. removeAttribute()：删除属性
        2. setAttribute()：设置属性
    * 特点：所有dom对象都可以被认为是一个节点
    * 方法：
        * CRUD dom树：
            * appendChild()：向节点的子节点列表的结尾添加新的子节点。
            * removeChild()	：删除（并返回）当前节点的指定子节点。
            * replaceChild()：用新节点替换一个子节点。
    * 属性：
        * parentNode 返回节点的父节点。
        
Node对象：
        父对象.appendChild(子元素对象);
        父对象.removeChild(子元素对象);
        
		var 父对象=子元素.parentNode;
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:void(0)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>添加子节点<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
		javascript:void(0)表示执行一段javascript代码，代码是冒号后面的void(0)方法，目的是阻止超链接的网页跳转。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="window对象3种弹框"><a href="#window对象3种弹框" class="header-anchor">#</a> window对象3种弹框</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>警告框：<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;内容&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
确认框：<span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;内容&quot;</span><span class="token punctuation">)</span>
提示框：<span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;文本&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;默认值&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="innertext和innerhtml的区别"><a href="#innertext和innerhtml的区别" class="header-anchor">#</a> innerText和innerHTML的区别：</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token function">innerHTML：获取或者设置标签内容体的html代码，浏览器会解析html代码。</span><span class="token punctuation">(</span>很常用<span class="token punctuation">)</span>
 innerText：获取或者设置标签内容体文本内容，浏览器不会解析标签，直接显示文本内容。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="js中常见的事件"><a href="#js中常见的事件" class="header-anchor">#</a> js中常见的事件</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> 点击事件：
	<span class="token number">1.</span> onclick：单击事件
	<span class="token number">2.</span> ondblclick：双击事件
<span class="token number">2.</span> 焦点事件
	<span class="token number">1.</span> onblur：失去焦点
	<span class="token number">2.</span> onfocus<span class="token operator">:</span>元素获得焦点。
<span class="token number">3.</span> 加载事件：
	<span class="token number">1.</span> onload：一张页面或一幅图像完成加载。
<span class="token number">4.</span> 鼠标事件：
	<span class="token number">1.</span> onmousedown	鼠标按钮被按下。
	<span class="token number">2.</span> onmouseup	鼠标按键被松开。
	<span class="token number">3.</span> onmousemove	鼠标被移动。
	<span class="token number">4.</span> onmouseover	鼠标移到某元素之上。
	<span class="token number">5.</span> onmouseout	鼠标从某元素移开。
<span class="token number">5.</span> 键盘事件：
	<span class="token number">1.</span> onkeydown	某个键盘按键被按下。	
	<span class="token number">2.</span> onkeyup		某个键盘按键被松开。
	<span class="token number">3.</span> onkeypress	某个键盘按键被按下并松开。
<span class="token number">6.</span> 选择和改变
	<span class="token number">1.</span> onchange	域的内容被改变。
	<span class="token number">2.</span> onselect	文本被选中。
<span class="token number">7.</span> 表单事件：
	<span class="token number">1.</span> onsubmit	确认按钮被点击。
	<span class="token number">2.</span> onreset	重置按钮被点击。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="js中事件绑定"><a href="#js中事件绑定" class="header-anchor">#</a> js中事件绑定</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>方式1：直接给html标签添加事件属性。
    第1步：给html标签添加事件属性
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>light<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img/off.gif<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fun()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   <span class="token comment">&lt;!-- 单击之后执行fun()方法--&gt;</span>
    第2步：声明被执行的fun方法
    	function fun(){...}
    	
方式2：给标签元素对象的事件属性赋一个匿名函数
    第1步：获取标签元素对象
    	var light = document.getElementById(&quot;light&quot;);
    第2步：给元素对象的事件属性赋一个匿名函数
    	light2.onclick=function (){...}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="bom组成"><a href="#bom组成" class="header-anchor">#</a> BOM组成</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Window：窗口对象
Navigator：浏览器对象
Screen：显示器屏幕对象
History：历史记录对象
Location：地址栏对象
特点：
	Window对象不需要创建可以直接使用 window<span class="token punctuation">.</span><span class="token function">方法名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window引用可以省略  <span class="token function">方法名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    history location Navigator Screen这四个对象是Windows对象的属性
    
Window：窗口对象
	 方法
         <span class="token number">1.</span> 与弹出框有关的方法：
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	显示带有一段消息和一个确认按钮的警告框。
            <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	显示带有一段消息以及确认按钮和取消按钮的对话框。
                <span class="token operator">*</span> 如果用户点击确定按钮，则方法返回<span class="token boolean">true</span>
                <span class="token operator">*</span> 如果用户点击取消按钮，则方法返回<span class="token boolean">false</span>
            <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	显示可提示用户输入的对话框。
                <span class="token operator">*</span> 返回值：获取用户输入的值
         <span class="token number">2.</span> 与打开关闭有关的方法：
            <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	关闭浏览器窗口。
                <span class="token operator">*</span> 谁调用我 ，我关谁
            <span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	打开一个新的浏览器窗口
                <span class="token operator">*</span> 返回新的Window对象
         <span class="token number">3.</span> 与定时器有关的方式
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	在指定的毫秒数后调用函数或计算表达式。
                <span class="token operator">*</span> 参数：
                    <span class="token number">1.</span> js代码或者方法对象
                    <span class="token number">2.</span> 毫秒值
                <span class="token operator">*</span> 返回值：唯一标识，用于取消定时器
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	取消由 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法设置的 timeout。

            <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	按照指定的周期（以毫秒计）来调用函数或计算表达式。
            <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	取消由 <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 设置的 timeout。
    
Location：地址栏对象
	<span class="token function">创建</span><span class="token punctuation">(</span>获取<span class="token punctuation">)</span>：
		<span class="token number">1.</span> window<span class="token punctuation">.</span>location
		<span class="token number">2.</span> location
	 方法：
		<span class="token operator">*</span> <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	重新加载当前文档。刷新
	属性
		<span class="token operator">*</span> href	设置或返回完整的 <span class="token constant">URL</span>。 
        
History：历史记录对象
    <span class="token function">创建</span><span class="token punctuation">(</span>获取<span class="token punctuation">)</span>：
        <span class="token number">1.</span> window<span class="token punctuation">.</span>history
        <span class="token number">2.</span> history
     方法：
        <span class="token operator">*</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	加载 history 列表中的前一个 <span class="token constant">URL</span>。
        <span class="token operator">*</span> <span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	加载 history 列表中的下一个 <span class="token constant">URL</span>。
        <span class="token operator">*</span> <span class="token function">go</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span>	加载 history 列表中的某个具体页面。
            <span class="token operator">*</span> 参数：
                <span class="token operator">*</span> 正数：前进几个历史记录
                <span class="token operator">*</span> 负数：后退几个历史记录
    属性：
        <span class="token operator">*</span> length	返回当前窗口历史列表中的 <span class="token constant">URL</span> 数量。       
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><h3 id="xml与html的区别"><a href="#xml与html的区别" class="header-anchor">#</a> xml与html的区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>xml的标签可扩展，html标签是固定的
xml的语法严格，html语法松散
xml用来存储数据，做为配置文件使用；html是用来展示网页数据
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="xml基本语法"><a href="#xml基本语法" class="header-anchor">#</a> xml基本语法</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> xml文档的后缀名 <span class="token punctuation">.</span>xml
<span class="token number">2.</span> xml第一行必须定义为文档声明
<span class="token number">3.</span> xml文档中有且仅有一个根标签
<span class="token number">4.</span> 属性值必须使用引号<span class="token punctuation">(</span>单双都可<span class="token punctuation">)</span>引起来
<span class="token number">5.</span> 标签必须正确关闭
<span class="token number">6.</span> xml标签名称区分大小写
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="xml有哪些约束"><a href="#xml有哪些约束" class="header-anchor">#</a> xml有哪些约束</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>dtd：一种简单的约束，不能约束数据的范围
schema：一种复杂的约束，可以约束数据的类型和取值
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="解析xml的方式"><a href="#解析xml的方式" class="header-anchor">#</a> 解析xml的方式</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>DOM解析：
    一次性将文档加载进内存，形成一棵dom树<span class="token punctuation">(</span><span class="token class-name">Document</span><span class="token punctuation">)</span>。
    优点：可以进行CRUD操作
    缺点：占用内存较大
SAX解析：
    基于事件逐行解析，解析完成之后会自动释放资源。
    优点：占用内存较小
    缺点：只能进行读取，不能增删改。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="xml常见的解析器"><a href="#xml常见的解析器" class="header-anchor">#</a> xml常见的解析器</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> JAXP：sun公司提供的解析器，支持dom和sax两种思想
<span class="token number">2.</span> DOM4J：一款非常优秀的解析器
<span class="token number">3.</span> <span class="token class-name">Jsoup</span>：jsoup 是一款<span class="token class-name">Java</span> 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。
<span class="token number">4.</span> PULL：<span class="token class-name">Android</span>操作系统内置的解析器，sax方式的。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="常见的java相关的web服务器"><a href="#常见的java相关的web服务器" class="header-anchor">#</a> 常见的java相关的web服务器</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>webLogic：oracle公司，大型的<span class="token class-name">JavaEE</span>服务器，支持所有的<span class="token class-name">JavaEE</span>规范，收费的。

webSphere：IBM公司，大型的<span class="token class-name">JavaEE</span>服务器，支持所有的<span class="token class-name">JavaEE</span>规范，收费的。

JBOSS：JBOSS公司的，大型的<span class="token class-name">JavaEE</span>服务器，支持所有的<span class="token class-name">JavaEE</span>规范，收费的。

<span class="token class-name">Tomcat</span>：<span class="token class-name">Apache</span>基金组织，中小型的<span class="token class-name">JavaEE</span>服务器，仅仅支持少量的<span class="token class-name">JavaEE</span>规范servlet<span class="token operator">/</span>jsp。开源的，免费的。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="tomcat部署项目的三种方法"><a href="#tomcat部署项目的三种方法" class="header-anchor">#</a> tomcat部署项目的三种方法</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>1.直接将项目复制到tomcat/webapps目录中，启动服务器就可以访问(掌握)
2.虚拟路径方式：tomcat/conf/server.xml host标签中配置：
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Context</span> <span class="token attr-name">docBase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>D:\hello<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hehe<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    docBase:项目存放的路径
    path：虚拟目录
3.在conf\Catalina\localhost创建任意名称的xml文件。在文件中编写
	虚拟目录：xml文件的名称,不带后缀名。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="servlet-接口-执行原理"><a href="#servlet-接口-执行原理" class="header-anchor">#</a> Servlet（接口）执行原理</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> 当服务器接受到客户端浏览器的请求后，会解析请求URL路径，获取访问的<span class="token class-name">Servlet</span>的资源路径
<span class="token number">2.</span> 查找web<span class="token punctuation">.</span>xml文件，是否有对应的<span class="token operator">&lt;</span>url<span class="token operator">-</span>pattern<span class="token operator">&gt;</span>标签体内容。
<span class="token number">3.</span> 如果有，则在找到对应的<span class="token operator">&lt;</span>servlet<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">&gt;</span>全类名
<span class="token number">4.</span> tomcat会将字节码文件加载进内存，并且创建其对象
<span class="token number">5.</span> 调用其方法
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="servlet中的生命周期方法"><a href="#servlet中的生命周期方法" class="header-anchor">#</a> Servlet中的生命周期方法</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> 被创建：执行init方法，只执行一次
    <span class="token operator">*</span> <span class="token class-name">Servlet</span>什么时候被创建？
        <span class="token operator">*</span> 默认情况下，第一次被访问时，<span class="token class-name">Servlet</span>被创建
        <span class="token operator">*</span> 可以配置执行<span class="token class-name">Servlet</span>的创建时机。
            <span class="token operator">*</span> 在<span class="token generics"><span class="token punctuation">&lt;</span>servlet<span class="token punctuation">&gt;</span></span>标签下配置
                <span class="token number">1.</span> 第一次被访问时，创建
                <span class="token operator">*</span> <span class="token operator">&lt;</span>load<span class="token operator">-</span>on<span class="token operator">-</span>startup<span class="token operator">&gt;</span>的值为负数
                <span class="token number">2.</span> 在服务器启动时，创建
                <span class="token operator">*</span> <span class="token operator">&lt;</span>load<span class="token operator">-</span>on<span class="token operator">-</span>startup<span class="token operator">&gt;</span>的值为<span class="token number">0</span>或正整数
	<span class="token operator">*</span> <span class="token class-name">Servlet</span>的init方法，只执行一次，说明一个<span class="token class-name">Servlet</span>在内存中只存在一个对象，<span class="token class-name">Servlet</span>是单例的
        <span class="token operator">*</span> 多个用户同时访问时，可能存在线程安全问题。
        <span class="token operator">*</span> 解决：尽量不要在<span class="token class-name">Servlet</span>中定义成员变量。即使定义了成员变量，也不要对修改值

<span class="token number">2.</span> 提供服务：执行service方法，执行多次
	<span class="token operator">*</span> 每次访问<span class="token class-name">Servlet</span>时，<span class="token class-name">Service</span>方法都会被调用一次。
<span class="token number">3.</span> 被销毁：执行destroy方法，只执行一次
    <span class="token operator">*</span> <span class="token class-name">Servlet</span>被销毁时执行。服务器关闭时，<span class="token class-name">Servlet</span>被销毁
    <span class="token operator">*</span> 只有服务器正常关闭时，才会执行destroy方法。
    <span class="token operator">*</span> destroy方法在<span class="token class-name">Servlet</span>被销毁之前执行，一般用于释放资源
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="request对象和response对象的原理"><a href="#request对象和response对象的原理" class="header-anchor">#</a> request对象和response对象的原理</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>1. request和response对象是由服务器创建的。我们来使用它们
2. request对象是来获取请求消息，response对象是来设置响应消息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="request对象和response对象继承体系"><a href="#request对象和response对象继承体系" class="header-anchor">#</a> request对象和response对象继承体系</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>	<span class="token class-name">ServletRequest</span>		<span class="token operator">--</span>	接口
		<span class="token operator">|</span>	继承
	<span class="token class-name">HttpServletRequest</span>	<span class="token operator">--</span> 接口
		<span class="token operator">|</span>	实现
	org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>connector<span class="token punctuation">.</span><span class="token class-name">RequestFacade</span> 类<span class="token punctuation">(</span>tomcat<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="get请求和post请求的区别"><a href="#get请求和post请求的区别" class="header-anchor">#</a> get请求和post请求的区别</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code> 1.get请求参数在地址栏url后面，post请求参数在请求体中。
 2.get请求参数大小有限制，post请求参数大小没有限制。
 3.get请求相对不安全，post请求相对安全。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="请求部分"><a href="#请求部分" class="header-anchor">#</a> 请求部分</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>请求部分：请求行、请求头、请求体(只有post请求才有)
        
        请求行：请求方式    url路径   http协议版本
            POST /user/login HTTP/1.1
        请求头：Referer头和User-Agent有个印象就可以。
            User-Agent: 获取客户端浏览器的类型和版本
            Referer: 获取当前访问路径的来源，也就是从哪里跳转过来的。
                1.防盗链：
                2.统计：
        请求体：传输post请求的请求参数（键值对，每个键值对用&amp;连接）
            loginName=A181200010&amp;password=123456&amp;verifyCode=2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="request对象"><a href="#request对象" class="header-anchor">#</a> Request对象</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>获取虚拟路径
    <span class="token class-name">String</span> contextPath<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2.</span>获取请求参数
    <span class="token class-name">String</span> value<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一个name对应一个value值</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一个name对应多个value值</span>
    <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一次性获取所有请求参数</span>
<span class="token number">3.</span>请求参数中文乱码问题
    在tomcat8之后只有post请求才乱码
    原因：request缓冲区默认字符集是iso<span class="token operator">-</span><span class="token number">8859</span><span class="token operator">-</span><span class="token number">1</span>，不支持中文。
    解决办法：在第一次获取请求参数之前设置缓冲区字符集为utf<span class="token operator">-</span><span class="token number">8</span>
<span class="token number">4.</span>请求转发实现页面跳转
     API：request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/不带虚拟目录的路径&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
     请求转发的特点：
        <span class="token number">1.</span>本质特点：请求转发时一次请求一次响应
        <span class="token number">2.</span>请求转发地址栏不会发生改变
        <span class="token number">3.</span>请求转发只能转发到当前项目的资源
<span class="token number">5.</span>request作为域对象存值、取值、移除值
    域对象：有作用范围的对象
    作用范围：一次请求范围，从浏览器发送请求到服务器作出响应结束。
    API：
        存值<span class="token operator">:</span>request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">Object</span> value<span class="token punctuation">)</span>；
        取值<span class="token operator">:</span><span class="token class-name">Object</span> value<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        移除值：request<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="response对象"><a href="#response对象" class="header-anchor">#</a> Response对象</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>重定向实现页面跳转
        API：response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/带虚拟目录的路径&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        请求转发和重定向的区别？
            <span class="token number">1.</span>本质区别：请求转发是一次请求一次响应，重定向是两次请求两次响应。
            <span class="token number">2.</span>请求转发地址栏不变，重定向地址栏发生变化
            <span class="token number">3.</span>请求转发只能跳转到项目内部资源，重定向可以跳转到任意服务器中的任意项目资源。
            <span class="token number">4.</span>请求转发路径不带虚拟目录，重定向路径要带虚拟目录

         明确：如果跳转前后需要数据传递<span class="token punctuation">(</span>数据共享<span class="token punctuation">)</span>，那么只能使用请求转发，否则使用重定向。
         请求转发的api：request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;不带虚拟目录的路径&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
         
<span class="token number">2.</span>访问路径问题
        绝对路径：以<span class="token operator">/</span>开头，只需要考虑要不要带虚拟目录就可以了
        结论：只有请求转发不需要虚拟目录，其他访问路径都需要虚拟目录。
        
<span class="token number">3.</span>响应字符数据
        API：response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果是数字，会转换成字符输出</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//原样输出</span>
        注意：同一个<span class="token class-name">Servlet</span>中只能用一种流，要么字符流要么字节流

<span class="token number">4.</span>中文乱码的原因
		<span class="token number">1.</span>response 缓冲区默认字符集是iso<span class="token operator">-</span><span class="token number">8859</span><span class="token operator">-</span><span class="token number">1</span>不支持中文。<span class="token number">2.</span>浏览器使用的字符集和response缓冲区字符集不一致
        解决办法：
            response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="状态码分类"><a href="#状态码分类" class="header-anchor">#</a> 状态码分类</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>1xx：服务器就收客户端消息，但没有接受完成，等待一段时间后，发送1xx多状态码

2xx：成功。代表：200

3xx：重定向。代表：302(重定向)，304(访问缓存)

4xx：客户端错误。
    404（请求路径没有对应的资源） 
    405：请求方式没有对应的doXxx方法

5xx：服务器端错误。代表：500(服务器内部出现异常)	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="请求转发和重定向的区别"><a href="#请求转发和重定向的区别" class="header-anchor">#</a> 请求转发和重定向的区别</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>请求转发是一次请求一次响应，重定向是两个请求和两次响应

请求转发浏览器地址栏不会发生改变，重定向浏览器地址栏会发生改变

请求转发路径不带虚拟目录，重定向路径要带虚拟目录

请求转发只能跳转到项目内部资源，重定向可以跳转到任意服务器中的任意项目资源
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="servletcontext对象"><a href="#servletcontext对象" class="header-anchor">#</a> ServletContext对象</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>概述：<span class="token class-name">ServletContext</span>对象代表整个web项目，一个web项目只有一个<span class="token class-name">ServletContext</span>对象。
获取：在<span class="token class-name">Servlet</span>中都有<span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法获取
<span class="token number">1.</span>根据文件后缀名获取文件类型
    <span class="token class-name">String</span> mimeType<span class="token operator">=</span>servletContext<span class="token punctuation">.</span><span class="token function">getMimeType</span><span class="token punctuation">(</span><span class="token class-name">String</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2.</span>作为域对象存值、取值、移除值
    <span class="token operator">*</span> 能够使用<span class="token class-name">ServletContext</span>作为域对象存取值
    作用范围：整个web项目，从服务器开启到服务器结束。
    API：
        存值<span class="token operator">:</span>request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">Object</span> value<span class="token punctuation">)</span>；
        取值<span class="token operator">:</span><span class="token class-name">Object</span> value<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        移除值：request<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">3.</span>获取web项目中文件IO流路径或者输入流对象。
    <span class="token operator">*</span> 能够使用<span class="token class-name">ServletContext</span>对象读取文件
    获取文件路径：
        <span class="token class-name">String</span> path<span class="token operator">=</span>servletContext<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/路径默认从web目录开始写起&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    获取文件输入流：
        <span class="token class-name">InputStream</span> is<span class="token operator">=</span>servletContext<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;/路径默认从web目录开始写起&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1</span> <span class="token punctuation">.</span><span class="token class-name">Cookie</span>的实现原理：<span class="token class-name">Cookie</span>属于客户端技术，基于响应头set<span class="token operator">-</span>cookie和请求头cookie实现。
<span class="token number">2</span> <span class="token punctuation">.</span><span class="token class-name">Cookie</span>相关的API：
    获取该项目所有<span class="token class-name">Cookie</span>：<span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    创建<span class="token class-name">Cookie</span>对象：<span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">String</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    响应给客户端保存：response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    设置有效时长：cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> 秒<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//默认负数关闭浏览器时销毁，0删除cookie，正数存活时间</span>
    获取name和value值：cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">3</span> 在<span class="token class-name">Tomcat8</span>版本之后支持存储中文，但是不支持存储空格。浏览器保存<span class="token class-name">Cookie</span>的数量和大小有限制。
    发之前编码：
    <span class="token comment">//对数据进行编码</span>
    <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;每天变帅一点 点O(∩_∩)O~~&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    获取之后解码：
    <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">4.</span>一次可不可以发送多个cookie<span class="token operator">?</span>
		<span class="token operator">*</span> 可以
		<span class="token operator">*</span> 可以创建多个<span class="token class-name">Cookie</span>对象，使用response调用多次addCookie方法发送cookie即可。
<span class="token number">5.</span>cookie共享问题？
		<span class="token number">1.</span> 假设在一个tomcat服务器中，部署了多个web项目，那么在这些web项目中cookie能不能共享？
			<span class="token operator">*</span> 默认情况下cookie不能共享
			<span class="token operator">*</span> <span class="token function">setPath</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span><span class="token operator">:</span>设置cookie的获取范围。默认情况下，设置当前的虚拟目录
				<span class="token operator">*</span> 如果要共享，则可以将path设置为<span class="token string">&quot;/&quot;</span>
    	<span class="token number">2.</span> 不同的tomcat服务器间cookie共享问题？
			<span class="token operator">*</span> <span class="token function">setDomain</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span><span class="token operator">:</span>如果设置一级域名相同，那么多个服务器之间cookie可以共享
				<span class="token operator">*</span> <span class="token function">setDomain</span><span class="token punctuation">(</span><span class="token string">&quot;.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>那么tieba<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com和news<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com中cookie可以共享
<span class="token number">6.</span><span class="token class-name">Cookie</span>的特点和作用
	<span class="token number">1.</span> cookie存储数据在客户端浏览器
	<span class="token number">2.</span> 浏览器对于单个cookie 的大小有限制<span class="token punctuation">(</span><span class="token number">4</span>kb<span class="token punctuation">)</span> 以及 对同一个域名下的总cookie数量也有限制<span class="token punctuation">(</span><span class="token number">20</span>个<span class="token punctuation">)</span>

	<span class="token operator">*</span> 作用：
		<span class="token number">1.</span> cookie一般用于存出少量的不太敏感的数据
		<span class="token number">2.</span> 在不登录的情况下，完成服务器对客户端的身份识别
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="session"><a href="#session" class="header-anchor">#</a> Session</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>实现原理：<span class="token class-name">Session</span>属于服务器端技术，基于<span class="token class-name">Cookie</span>实现的，<span class="token class-name">Session</span>的唯一标识id存在<span class="token class-name">Cookie</span>中传输。
<span class="token number">2.</span>作为域对象存值、取值、移除值
    作用范围<span class="token operator">:</span>一次会话，可以包含多次请求。
    获取session对象：<span class="token class-name">HttpSession</span> session<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    存值<span class="token operator">:</span>session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">Object</span> value<span class="token punctuation">)</span>；
    取值<span class="token operator">:</span><span class="token class-name">Object</span> value<span class="token operator">=</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    移除值：session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">3.</span>细节
	<span class="token number">1.</span> 当客户端关闭后，服务器不关闭，两次获取session是否为同一个？
		<span class="token operator">*</span> 默认情况下。不是。
		<span class="token operator">*</span> 如果需要相同，则可以创建<span class="token class-name">Cookie</span><span class="token punctuation">,</span>键为JSESSIONID，设置最大存活时间，让cookie持久化保存。
			 <span class="token class-name">Cookie</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;JSESSIONID&quot;</span><span class="token punctuation">,</span>session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	         c<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	         response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token number">2.</span> 客户端不关闭，服务器关闭后，两次获取的session是同一个吗？
		<span class="token operator">*</span> 不是同一个，但是要确保数据不丢失。tomcat自动完成以下工作
			<span class="token operator">*</span> session的钝化：
				<span class="token operator">*</span> 在服务器正常关闭之前，将session对象系列化到硬盘上
			<span class="token operator">*</span> session的活化：
				<span class="token operator">*</span> 在服务器启动后，将session文件转化为内存中的session对象即可。
			
	<span class="token number">3.</span> session什么时候被销毁？
		<span class="token number">1.</span> 服务器关闭
		<span class="token number">2.</span> session对象调用<span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 。
		<span class="token number">3.</span> session默认失效时间 <span class="token number">30</span>分钟
			选择性配置修改	
			<span class="token operator">&lt;</span>session<span class="token operator">-</span>config<span class="token operator">&gt;</span>
		        <span class="token operator">&lt;</span>session<span class="token operator">-</span>timeout<span class="token operator">&gt;</span><span class="token number">30</span><span class="token operator">&lt;</span><span class="token operator">/</span>session<span class="token operator">-</span>timeout<span class="token operator">&gt;</span>
		    <span class="token operator">&lt;</span><span class="token operator">/</span>session<span class="token operator">-</span>config<span class="token operator">&gt;</span>

<span class="token number">4.</span>session的特点
	 <span class="token number">1.</span> session用于存储一次会话的多次请求的数据，存在服务器端
	 <span class="token number">2.</span> session可以存储任意类型，任意大小的数据

	<span class="token operator">*</span> session与<span class="token class-name">Cookie</span>的区别：
		<span class="token number">1.</span> session存储数据在服务器端，<span class="token class-name">Cookie</span>在客户端
		<span class="token number">2.</span> session没有数据大小限制，<span class="token class-name">Cookie</span>有
		<span class="token number">3.</span> session数据安全，<span class="token class-name">Cookie</span>相对于不安全
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="什么时候使用cookie-什么时候使用session"><a href="#什么时候使用cookie-什么时候使用session" class="header-anchor">#</a> 什么时候使用Cookie，什么时候使用Session？</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>由于<span class="token class-name">Cookie</span>只能保持字符串并且是不重要的数据，所以通常用来保持用户名、上一次访问时间<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
而session是服务器端技术，可以保持任意类型的数据，当做域对象使用即可
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="什么时候使用request-什么时候使用session"><a href="#什么时候使用request-什么时候使用session" class="header-anchor">#</a> 什么时候使用request，什么时候使用session？</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>一次请求范围内共享数据使用request，多次请求范围内共享数据使用session。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="jsp的九大内置对象"><a href="#jsp的九大内置对象" class="header-anchor">#</a> jsp的九大内置对象</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>request：封装客户端的请求，其中包含来自GET或POST请求的参数；

response：封装服务器对客户端的响应； 

pageContext：通过该对象可以获取其他对象； 

session：封装用户会话的对象； 

application：封装服务器运行环境的对象； 

out：输出服务器响应的输出流对象； 

config：<span class="token class-name">Web</span>应用的配置对象； 

page：JSP页面本身（相当于<span class="token class-name">Java</span>程序中的<span class="token keyword">this</span>）； 

exception：封装页面抛出异常的对象。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>​</p> <h3 id="jsp的四个作用域"><a href="#jsp的四个作用域" class="header-anchor">#</a> jsp的四个作用域</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>page代表与一个页面相关的对象和属性。 

request代表与<span class="token class-name">Web</span>客户机发出的一个请求相关的对象和属性。一个请求可能跨越多个页面，涉及多个<span class="token class-name">Web</span>组件；需要在页面显示的临时数据可以置于此作用域。 

session代表与某个用户与服务器建立的一次会话相关的对象和属性。跟某个用户相关的数据应该放在用户自己的session中。 

application代表与整个<span class="token class-name">Web</span>应用程序相关的对象和属性，它实质上是跨越整个<span class="token class-name">Web</span>应用程序，包括多个页面、请求和会话的一个全局作用域。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="el表达式"><a href="#el表达式" class="header-anchor">#</a> EL表达式</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>语法：$<span class="token punctuation">{</span>表达式<span class="token punctuation">}</span>，用于简化jsp页面的<span class="token operator">&lt;</span><span class="token operator">%=</span>表达式<span class="token operator">%</span><span class="token operator">&gt;</span>书写
    <span class="token number">1.</span>执行运算：四则运算、比较运算、逻辑运算、empty运算、三元运算<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token number">2.</span>获取域对象中的数据
        <span class="token number">2.1</span> 获取字符串数据
            $<span class="token punctuation">{</span>域范围<span class="token punctuation">.</span>键名<span class="token punctuation">}</span>，域范围可以省略不写，默认从最小的域范围开始查找
                $<span class="token punctuation">{</span>pageScope<span class="token punctuation">.</span>name<span class="token punctuation">}</span>  <span class="token operator">|</span>  $<span class="token punctuation">{</span>requestScope<span class="token punctuation">.</span>name<span class="token punctuation">}</span>  <span class="token operator">|</span>  $<span class="token punctuation">{</span>sessionScope<span class="token punctuation">.</span>name<span class="token punctuation">}</span>  <span class="token operator">|</span>  $<span class="token punctuation">{</span>applicationScope<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
                $<span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">:</span>表示从最小的域范围开始查找name的值，如果找到就不再往上找，没找到就往大一级的域范围中查找。
        <span class="token number">2.2</span> 获取对象属性值
            $<span class="token punctuation">{</span>域范围<span class="token punctuation">.</span>键名<span class="token punctuation">.</span>属性名<span class="token punctuation">}</span><span class="token punctuation">,</span>如果存的是对象<span class="token punctuation">,</span>那么$<span class="token punctuation">{</span>域范围<span class="token punctuation">.</span>键名<span class="token punctuation">}</span>获取到的就是对象
        <span class="token number">2.3</span> empty运算符、三元运算、内置对象
            $<span class="token punctuation">{</span>empty user<span class="token operator">?</span><span class="token string">&quot;值1&quot;</span><span class="token operator">:</span><span class="token string">&quot;值2&quot;</span><span class="token punctuation">}</span>：如果user对象为空，则返回值<span class="token number">1</span>，否则返回值<span class="token number">2</span>；
            $<span class="token punctuation">{</span>not empty user<span class="token operator">?</span><span class="token string">&quot;值1&quot;</span><span class="token operator">:</span><span class="token string">&quot;值2&quot;</span><span class="token punctuation">}</span>：如果user对象不为空，则返回值<span class="token number">1</span>，否则返回值<span class="token number">2</span>；

            内置对象：pageContext、pageScope、requestScope、sessionScope、applicationScope、cookie。
                获取虚拟路径：$<span class="token punctuation">{</span>pageContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>contextPath<span class="token punctuation">}</span>
                在jsp页面获取指定名称的<span class="token class-name">Cookie</span>的value值：$<span class="token punctuation">{</span>cookie<span class="token punctuation">.</span>cookie名称<span class="token punctuation">.</span>value<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="filter过滤器生命周期方法"><a href="#filter过滤器生命周期方法" class="header-anchor">#</a> Filter过滤器生命周期方法</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> init<span class="token operator">:</span>在服务器启动后，会创建<span class="token class-name">Filter</span>对象，然后调用init方法。只执行一次。用于加载资源
<span class="token number">2.</span> doFilter<span class="token operator">:</span>每一次请求被拦截资源时，会执行。执行多次
<span class="token number">3.</span> destroy<span class="token operator">:</span>在服务器关闭后，<span class="token class-name">Filter</span>对象被销毁。如果服务器是正常关闭，则会执行destroy方法。只执行一次。用于释放资源

<span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span><span class="token comment">//访问所有资源之前，都会执行该过滤器</span>
		<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo1</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
		    <span class="token annotation punctuation">@Override</span>
		    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
		
		    <span class="token punctuation">}</span>
		
		    <span class="token annotation punctuation">@Override</span>
		    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
		        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo1被执行了....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		         <span class="token comment">//放行</span>
		        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		    <span class="token punctuation">}</span>
		
		    <span class="token annotation punctuation">@Override</span>
		    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
		    <span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="过滤器链-配置多个过滤器"><a href="#过滤器链-配置多个过滤器" class="header-anchor">#</a> 过滤器链(配置多个过滤器)</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>执行顺序：如果有两个过滤器：过滤器<span class="token number">1</span>和过滤器<span class="token number">2</span>
			<span class="token number">1.</span> 过滤器<span class="token number">1</span>
			<span class="token number">2.</span> 过滤器<span class="token number">2</span>
			<span class="token number">3.</span> 资源执行
			<span class="token number">4.</span> 过滤器<span class="token number">2</span>
			<span class="token number">5.</span> 过滤器<span class="token number">1</span>
过滤器先后顺序问题：
			<span class="token number">1.</span> 注解配置：按照类名的字符串比较规则比较，值小的先执行
				<span class="token operator">*</span> 如： <span class="token class-name">AFilter</span> 和 <span class="token class-name">BFilter</span>，<span class="token class-name">AFilter</span>就先执行了。
			<span class="token number">2.</span> web<span class="token punctuation">.</span>xml配置： <span class="token operator">&lt;</span>filter<span class="token operator">-</span>mapping<span class="token operator">&gt;</span>谁定义在上边，谁先执行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="动态代理实现"><a href="#动态代理实现" class="header-anchor">#</a> 动态代理实现</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
   ClassLoader loader：类加载的作用就是创建代理对象的Class对象
   Class&lt;?&gt;[] interfaces：规定代理对象要和原始对象实现相同的接口，传递原始对象实现的接口的Class对象
   InvocationHandler h:规定代理对象要做什么事,代理对象的任何方法被调用了，该接口的invoke就会被执行
   返回值：返回代理对象
*/</span>
<span class="token class-name">ClassLoader</span> loader<span class="token operator">=</span>req<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> interfaces<span class="token operator">=</span>req<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ServletRequest</span> proxyReq <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ServletRequest</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>loader<span class="token punctuation">,</span> interfaces<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * @param proxy 代理对象，不要在invoke放中打印该对象
     * @param method 代理对象被调用的方法Method对象。
     * @param args 调用代理对象传递的参数值
     * @return 将调用原始对象的方法的返回值进一步返回给调用代理对象的人
     * @throws Throwable
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    	<span class="token comment">//System.out.println(proxy);//相当于调用了proxy的toString()方法</span>
        <span class="token comment">//该方法中的代理就是代理对象要做的事</span>
        <span class="token comment">//1.判断被调用的方法是不是要增强的方法</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;getParameter&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//2.如果是要增强的方法，那么就开始增强</span>
            <span class="token comment">//2.1 获取原来对象的参数值</span>
            <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//你个坏蛋</span>
            <span class="token comment">//2.2 判断是否有敏感词汇</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;坏蛋&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;坏蛋&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;笨蛋&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                value<span class="token operator">=</span>value<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;笨蛋&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//3.如果不是要增强的方法，那么就不增强，原来的request对象的该方法干什么事，代理对象就干什么事。</span>
             <span class="token keyword">return</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="jquery"><a href="#jquery" class="header-anchor">#</a> jQuery</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>核心函数：$<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>传递的参数不一样，作用就不一样  <span class="token punctuation">(</span>重点<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span>
    <span class="token number">1.</span>传递匿名函数：
        $<span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//入口函数</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	 <span class="token number">2.</span>传递html代码或者js对象
        传递html代码：创建html代码对应的元素对象，该元素可以保护子元素。
            $<span class="token punctuation">(</span><span class="token string">&quot;&lt;div&gt;&lt;p&gt;Hello&lt;/p&gt;&lt;/div&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        传递js对象：
        	js对象转换成jquery对象<span class="token operator">:</span>$<span class="token punctuation">(</span>js对象<span class="token punctuation">)</span>
        	jquery对象转换成js对象：jquery对象<span class="token punctuation">[</span>索引<span class="token punctuation">]</span>或者jquery对象<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>索引<span class="token punctuation">)</span>；如果jquery对象不是数组，那么索引传<span class="token number">0</span>表示自身。
        	
<span class="token number">2.</span>事件绑定以及样式控制
    <span class="token number">1.</span>单击事件
        jquery对象<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//当元素被单击之后，匿名函数就会执行</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token number">2.</span>失去焦点事件
        jquery对象<span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//当元素失去焦点之后，匿名函数就会执行</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token number">3.</span>表单提交事件
        jquery对象<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//当submit按钮被单击之后，匿名函数就会执行</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token operator">/</span><span class="token boolean">false</span><span class="token punctuation">;</span>  返回<span class="token boolean">true</span>表示运行提交，返回<span class="token boolean">false</span>表示阻止提交，不返回默认是提交
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token number">4.</span>on绑定事件<span class="token operator">/</span>off解除绑定
		<span class="token operator">*</span> jq对象<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;事件名称&quot;</span><span class="token punctuation">,</span>回调函数<span class="token punctuation">)</span>
		<span class="token operator">*</span> jq对象<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">&quot;事件名称&quot;</span><span class="token punctuation">)</span>
			<span class="token operator">*</span> 如果off方法不传递任何参数，则将组件上的所有事件全部解绑

<span class="token number">3.</span>常用的选择器
    <span class="token number">1.</span>基础选择器
        <span class="token operator">*</span> 能够使用<span class="token class-name">JQuery</span>的基本选择器进行操作
            id选择器<span class="token operator">:</span>$<span class="token punctuation">(</span><span class="token string">&quot;#id属性值&quot;</span><span class="token punctuation">)</span>
            类选择器：$<span class="token punctuation">(</span><span class="token string">&quot;.class属性值&quot;</span><span class="token punctuation">)</span>
            元素选择器：$<span class="token punctuation">(</span><span class="token string">&quot;标签名&quot;</span><span class="token punctuation">)</span>
            并集选择器：$<span class="token punctuation">(</span>选择器<span class="token number">1</span><span class="token punctuation">,</span>选择器<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token number">2.</span>层级选择器：
        <span class="token operator">*</span> 能够使用<span class="token class-name">JQuery</span>的层级选择器进行操作
            后代选择器：
                语法：$<span class="token punctuation">(</span>选择器<span class="token number">1</span> 选择器<span class="token number">2</span><span class="token punctuation">)</span>：查询选择器<span class="token number">1</span>中的所有选择器<span class="token number">2</span>表示的后代元素，包括孙子辈的
            子元素选择器：
                语法：$<span class="token punctuation">(</span>选择器<span class="token number">1</span><span class="token operator">&gt;</span>选择器<span class="token number">2</span><span class="token punctuation">)</span>：查询选择器<span class="token number">1</span>中的所有选择器<span class="token number">2</span>表示的直接子元素，不包括孙子辈的
    <span class="token number">3.</span>属性选择器
        <span class="token operator">*</span> 能够使用<span class="token class-name">JQuery</span>的属性选择器进行操作
            <span class="token punctuation">[</span>attribute<span class="token punctuation">]</span>
                语法：$<span class="token punctuation">(</span><span class="token string">&quot;input[name]&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span>获取有name属性的input元素
            <span class="token punctuation">[</span>attribute<span class="token operator">=</span>value<span class="token punctuation">]</span>
                语法：$<span class="token punctuation">(</span><span class="token string">&quot;input[type='text']&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span>获取type<span class="token operator">=</span><span class="token string">'text'</span>的input元素
            <span class="token punctuation">[</span>attrSel1<span class="token punctuation">]</span><span class="token punctuation">[</span>attrSel2<span class="token punctuation">]</span><span class="token punctuation">[</span>attrSelN<span class="token punctuation">]</span>
                语法：$<span class="token punctuation">(</span><span class="token string">&quot;input[type='text'][name]&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span>获取type<span class="token operator">=</span><span class="token string">'text'</span>并且有name属性的的input元素
    <span class="token number">4.</span>基本过滤选择器
        <span class="token operator">*</span> 能够使用<span class="token class-name">JQuery</span>的基本过滤器选择器进行操作
            <span class="token operator">:</span>first：
                语法：$<span class="token punctuation">(</span><span class="token string">&quot;tr:first&quot;</span><span class="token punctuation">)</span>查找第一个tr元素
            <span class="token operator">:</span>last<span class="token operator">:</span>
                语法：$<span class="token punctuation">(</span><span class="token string">&quot;tr:last&quot;</span><span class="token punctuation">)</span>查找最后一个tr元素
            <span class="token operator">:</span>odd
                语法：$<span class="token punctuation">(</span><span class="token string">&quot;tr:odd&quot;</span><span class="token punctuation">)</span>查询所有奇数个tr<span class="token punctuation">,</span>索引从<span class="token number">0</span>开始
            <span class="token operator">:</span>even
                语法：$<span class="token punctuation">(</span><span class="token string">&quot;tr:even&quot;</span><span class="token punctuation">)</span>查询所有偶数个tr<span class="token punctuation">,</span>索引从<span class="token number">0</span>开始
                
<span class="token number">4.D</span>OM操作
	<span class="token number">1.</span> 内容操作
		<span class="token number">1.</span> <span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> 获取<span class="token operator">/</span>设置元素的标签体内容   <span class="token generics"><span class="token punctuation">&lt;</span>a<span class="token punctuation">&gt;</span></span><span class="token generics"><span class="token punctuation">&lt;</span>font<span class="token punctuation">&gt;</span></span>内容<span class="token operator">&lt;</span><span class="token operator">/</span>font<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>  <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>font<span class="token punctuation">&gt;</span></span>内容<span class="token operator">&lt;</span><span class="token operator">/</span>font<span class="token operator">&gt;</span>
		<span class="token number">2.</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> 获取<span class="token operator">/</span>设置元素的标签体纯文本内容   <span class="token generics"><span class="token punctuation">&lt;</span>a<span class="token punctuation">&gt;</span></span><span class="token generics"><span class="token punctuation">&lt;</span>font<span class="token punctuation">&gt;</span></span>内容<span class="token operator">&lt;</span><span class="token operator">/</span>font<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span> 内容
		<span class="token number">3.</span> <span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span>： 获取<span class="token operator">/</span>设置元素的value属性值
	<span class="token number">2.</span> 属性操作
		<span class="token number">1.</span> 通用属性操作
			<span class="token number">1.</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> 获取<span class="token operator">/</span>设置元素的属性
			<span class="token number">2.</span> <span class="token function">removeAttr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>删除属性
			<span class="token number">3.</span> <span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>获取<span class="token operator">/</span>设置元素的属性
			<span class="token number">4.</span> <span class="token function">removeProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>删除属性

			<span class="token operator">*</span> attr和prop区别？
				<span class="token number">1.</span> 如果操作的是元素的固有属性，则建议使用prop
				<span class="token number">2.</span> 如果操作的是元素自定义的属性，则建议使用attr
				注意：如果是操作checked、selected等状态属性，那么就是用<span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法，操作其他属性就使用<span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法。
		<span class="token number">2.</span> <span class="token keyword">class</span>属性操作
			<span class="token number">1.</span> <span class="token function">addClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>添加<span class="token keyword">class</span>属性值
			<span class="token number">2.</span> <span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>删除<span class="token keyword">class</span>属性值
			<span class="token number">3.</span> <span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>切换<span class="token keyword">class</span>属性
				<span class="token operator">*</span> <span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> 
					<span class="token operator">*</span> 判断如果元素对象上存在<span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;one&quot;</span>，则将属性值one删除掉。  如果元素对象上不存在<span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;one&quot;</span>，则添加
			<span class="token number">4.</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
				获取样式值：<span class="token keyword">var</span> value＝jquery元素对象<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;属性名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            设置样式值：
                jquery对象<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;属性名&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;属性值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置一组样式值；</span>
                $<span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;属性名&quot;</span><span class="token operator">:</span> <span class="token string">&quot;属性值&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;属性名&quot;</span><span class="token operator">:</span> <span class="token string">&quot;属性值&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置多组样式值；</span>
            说明：<span class="token punctuation">{</span><span class="token string">&quot;属性名&quot;</span><span class="token operator">:</span> <span class="token string">&quot;属性值&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;属性名&quot;</span><span class="token operator">:</span> <span class="token string">&quot;属性值&quot;</span><span class="token punctuation">}</span>在js中称为对象；
        	<span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">&quot;class属性值&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span>
	<span class="token number">3.</span> CRUD操作<span class="token operator">:</span>
		<span class="token number">1.</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>父元素将子元素追加到末尾
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">append</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span> 将对象<span class="token number">2</span>添加到对象<span class="token number">1</span>元素内部，并且在末尾
		<span class="token number">2.</span> <span class="token function">prepend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>父元素将子元素追加到开头
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">prepend</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span>将对象<span class="token number">2</span>添加到对象<span class="token number">1</span>元素内部，并且在开头
		<span class="token number">3.</span> <span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span>将对象<span class="token number">1</span>添加到对象<span class="token number">2</span>内部，并且在末尾
		<span class="token number">4.</span> <span class="token function">prependTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>：
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">prependTo</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span>将对象<span class="token number">1</span>添加到对象<span class="token number">2</span>内部，并且在开头
		<span class="token number">5.</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>添加元素到元素后边
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">after</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span>： 将对象<span class="token number">2</span>添加到对象<span class="token number">1</span>后边。对象<span class="token number">1</span>和对象<span class="token number">2</span>是兄弟关系
		<span class="token number">6.</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>添加元素到元素前边
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">before</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span>： 将对象<span class="token number">2</span>添加到对象<span class="token number">1</span>前边。对象<span class="token number">1</span>和对象<span class="token number">2</span>是兄弟关系
		<span class="token number">7.</span> <span class="token function">insertAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">insertAfter</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span>：将对象<span class="token number">2</span>添加到对象<span class="token number">1</span>后边。对象<span class="token number">1</span>和对象<span class="token number">2</span>是兄弟关系
		<span class="token number">8.</span> <span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token operator">*</span> 对象<span class="token number">1.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>对象<span class="token number">2</span><span class="token punctuation">)</span>： 将对象<span class="token number">2</span>添加到对象<span class="token number">1</span>前边。对象<span class="token number">1</span>和对象<span class="token number">2</span>是兄弟关系

		<span class="token number">9.</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>移除元素
			<span class="token operator">*</span> 对象<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>将对象删除掉
		<span class="token number">10.</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>清空元素的所有后代元素。
			<span class="token operator">*</span> 对象<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>将对象的后代元素全部清空，但是保留当前对象以及其属性节点
			
<span class="token number">5.</span>遍历
	 <span class="token number">1.</span>传统的js方式fori遍历<span class="token punctuation">,</span>有索引。快捷键：itar<span class="token operator">+</span>回车
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token number">2.</span>使用ES6中提供的<span class="token keyword">for</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>of方式变量，也叫增强<span class="token keyword">for</span>循环。快捷键：iter<span class="token operator">+</span>回车
        <span class="token keyword">for</span><span class="token punctuation">(</span>let 变量 of 数组对象<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//变量为遍历出来的每一个元素，但是是一个js对象，$(变量)转换成jquery对象</span>
        <span class="token punctuation">}</span>
    <span class="token number">3.</span>jquery提供的each方法遍历<span class="token punctuation">(</span>熟悉<span class="token punctuation">)</span>
        jquery数组对象<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>element<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//每遍历一次匿名函数就执行一次</span>
            <span class="token comment">//可以使用this表示当前遍历出来的元素，但是是一个js对象，$(this)转换成jquery对象</span>
            <span class="token comment">//i表示索引，element表示每次遍历出来的元素，和this含义一样，也是js对象</span>
            <span class="token comment">//return true相当于continue,return false相当于break</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>数组对象<span class="token punctuation">,</span><span class="token function">function</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>element<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//每遍历一次匿名函数就执行一次</span>
            <span class="token comment">//可以使用this表示当前遍历出来的元素，但是是一个js对象，$(this)转换成jquery对象</span>
            <span class="token comment">//i表示索引，element表示每次遍历出来的元素，和this含义一样，也是js对象</span>
            <span class="token comment">//return true相当于continue,return false相当于break</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br></div></div><h3 id="ajax"><a href="#ajax" class="header-anchor">#</a> Ajax</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Ajax</span> 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。

通过在后台与服务器进行少量数据交换，<span class="token class-name">Ajax</span> 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。

传统的网页（不使用 <span class="token class-name">Ajax</span>）如果需要更新内容，必须重载整个网页页面。

提升用户的体验

异步和同步：客户端和服务器端相互通信的基础上
		<span class="token operator">*</span> 客户端必须等待服务器端的响应。在等待的期间客户端不能做其他操作。
		<span class="token operator">*</span> 客户端不需要等待服务器端的响应。在服务器处理请求的过程中，客户端可以进行其他的操作。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="jquery实现异步请求"><a href="#jquery实现异步请求" class="header-anchor">#</a> jQuery实现异步请求</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span><span class="token string">&quot;请求路径&quot;</span> <span class="token punctuation">,</span>
        type<span class="token operator">:</span><span class="token string">&quot;请求方式&quot;</span> <span class="token punctuation">,</span> 
        data<span class="token operator">:</span><span class="token string">&quot;请求参数&quot;</span><span class="token punctuation">,</span>
        success<span class="token operator">:</span>function <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;响应成功后的回调函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        error<span class="token operator">:</span>function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;响应出现错误，会执行的回调函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        dataType<span class="token operator">:</span><span class="token string">&quot;接受到的响应数据的格式&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">2.</span>$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;请求路径&quot;</span><span class="token punctuation">,</span>请求参数<span class="token punctuation">,</span>响应成功的匿名函数<span class="token punctuation">,</span><span class="token string">&quot;响应回来的数据类型json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        参数介绍：
            请求路径：在异步请求中，一般使用相对路径<span class="token punctuation">.</span>
            请求参数：可以是js对象<span class="token punctuation">{</span><span class="token punctuation">}</span>格式。也可以是拼接字符串<span class="token punctuation">,</span>多个参数使用<span class="token operator">&amp;</span>连接。
        例如：$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;ajaxServlet&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>username<span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
                   <span class="token comment">//data参数表示响应回来的数据</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">3.</span> $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;请求路径&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;请求参数&quot;</span><span class="token punctuation">,</span>响应成功的匿名函数<span class="token punctuation">,</span><span class="token string">&quot;响应回来的数据类型text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        参数介绍：
            请求路径：在异步请求中，一般使用相对路径<span class="token punctuation">.</span>
            请求参数：可以是js对象<span class="token punctuation">{</span><span class="token punctuation">}</span>格式。也可以是拼接字符串<span class="token punctuation">,</span>多个参数使用<span class="token operator">&amp;</span>连接。
        例如：$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;ajaxServlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;username=张三&quot;</span><span class="token punctuation">,</span><span class="token function">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
                   <span class="token comment">//data参数表示响应回来的数据</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="json"><a href="#json" class="header-anchor">#</a> JSON</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span> 基本规则
		<span class="token operator">*</span> 数据在名称<span class="token operator">/</span>值对中：json数据是由键值对构成的
			<span class="token operator">*</span> 键用引号<span class="token punctuation">(</span>单双都行<span class="token punctuation">)</span>引起来，也可以不使用引号
			<span class="token operator">*</span> 值得取值类型：
				<span class="token number">1.</span> 数字（整数或浮点数）
				<span class="token number">2.</span> 字符串（在双引号中）
				<span class="token number">3.</span> 逻辑值（<span class="token boolean">true</span> 或 <span class="token boolean">false</span>）
				<span class="token number">4.</span> 数组（在方括号中）	<span class="token punctuation">{</span><span class="token string">&quot;persons&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
				<span class="token number">5.</span> 对象（在花括号中） <span class="token punctuation">{</span><span class="token string">&quot;address&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;province&quot;</span>：<span class="token string">&quot;陕西&quot;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
				<span class="token number">6.</span> <span class="token keyword">null</span>
		<span class="token operator">*</span> 数据由逗号分隔：多个键值对由逗号分隔
		<span class="token operator">*</span> 花括号保存对象：使用<span class="token punctuation">{</span><span class="token punctuation">}</span>定义json 格式
		<span class="token operator">*</span> 方括号保存数组：<span class="token punctuation">[</span><span class="token punctuation">]</span>
		
<span class="token number">2.</span> 获取数据<span class="token operator">:</span>
		<span class="token number">1.</span> json对象<span class="token punctuation">.</span>键名
		<span class="token number">2.</span> json对象<span class="token punctuation">[</span><span class="token string">&quot;键名&quot;</span><span class="token punctuation">]</span>
		<span class="token number">3.</span> 数组对象<span class="token punctuation">[</span>索引<span class="token punctuation">]</span>
		<span class="token number">4.</span> 遍历
		
<span class="token number">3.</span> JSON数据和<span class="token class-name">Java</span>对象的相互转换
	<span class="token operator">*</span> JSON解析器：
		<span class="token operator">*</span> 常见的解析器：<span class="token class-name">Jsonlib</span>，<span class="token class-name">Gson</span>，fastjson，jackson
	
	<span class="token number">1.</span> JSON转为<span class="token class-name">Java</span>对象
		bjectMapper mapper<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Object</span> java对象 <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span>java对象<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token number">2.</span> <span class="token class-name">Java</span>对象转换JSON
		<span class="token class-name">ObjectMapper</span> mapper<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> json<span class="token operator">=</span>mapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>java对象<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//java对象可以是javabean对象、list集合、map集合</span>
		response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//响应给客户端</span>

		或者以上两步可以换成以下一步：
			mapper<span class="token punctuation">.</span><span class="token function">writeValue</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>java对象<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//java对象可以是javabean对象、list集合、map集合</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="redis"><a href="#redis" class="header-anchor">#</a> Redis</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>redis是一款高性能的NOSQL系列的非关系型数据库

<span class="token number">1.1</span><span class="token punctuation">.</span>什么是NOSQL
		<span class="token class-name">NoSQL</span><span class="token punctuation">(</span><span class="token class-name">NoSQL</span> <span class="token operator">=</span> <span class="token class-name">Not</span> <span class="token class-name">Only</span> SQL<span class="token punctuation">)</span>，意即“不仅仅是SQL”，是一项全新的数据库理念，泛指非关系型的数据库。
		随着互联网web2<span class="token punctuation">.</span><span class="token number">0</span>网站的兴起，传统的关系数据库在应付web2<span class="token punctuation">.</span><span class="token number">0</span>网站，特别是超大规模和高并发的SNS类型的web2<span class="token punctuation">.</span><span class="token number">0</span>纯动态网站已经显得力不从心，暴露了很多难以克服的问题，而非关系型的数据库则由于其本身的特点得到了非常迅速的发展。<span class="token class-name">NoSQL</span>数据库的产生就是为了解决大规模数据集合多重数据种类带来的挑战，尤其是大数据应用难题。

		<span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>	NOSQL和关系型数据库比较
			优点：
				<span class="token number">1</span>）成本：nosql数据库简单易部署，基本都是开源软件，不需要像使用oracle那样花费大量成本购买使用，相比关系型数据库价格便宜。
				<span class="token number">2</span>）查询速度：nosql数据库将数据存储于缓存之中，关系型数据库将数据存储在硬盘中，自然查询速度远不及nosql数据库。
				<span class="token number">3</span>）存储数据的格式：nosql的存储格式是key<span class="token punctuation">,</span>value形式、文档形式、图片形式等等，所以可以存储基础类型以及对象或者是集合等各种格式，而数据库则只支持基础类型。
				<span class="token number">4</span>）扩展性：关系型数据库有类似join这样的多表查询机制的限制导致扩展很艰难。

			缺点：
				<span class="token number">1</span>）维护的工具和资料有限，因为nosql是属于新的技术，不能和关系型数据库<span class="token number">10</span>几年的技术同日而语。
				<span class="token number">2</span>）不提供对sql的支持，如果不支持sql这样的工业标准，将产生一定用户的学习和使用成本。
				<span class="token number">3</span>）不提供关系型数据库对事务的处理。

		<span class="token number">1.1</span><span class="token number">.2</span><span class="token punctuation">.</span>	非关系型数据库的优势：
			<span class="token number">1</span>）性能NOSQL是基于键值对的，可以想象成表中的主键和值的对应关系，而且不需要经过SQL层的解析，所以性能非常高。
			<span class="token number">2</span>）可扩展性同样也是因为基于键值对，数据之间没有耦合性，所以非常容易水平扩展。

		<span class="token number">1.1</span><span class="token number">.3</span><span class="token punctuation">.</span>	关系型数据库的优势：
			<span class="token number">1</span>）复杂查询可以用SQL语句方便的在一个表以及多个表之间做非常复杂的数据查询。
			<span class="token number">2</span>）事务支持使得对于安全性能很高的数据访问要求得以实现。对于这两类数据库，对方的优势就是自己的弱势，反之亦然。

		<span class="token number">1.1</span><span class="token number">.4</span><span class="token punctuation">.</span>	总结
			关系型数据库与<span class="token class-name">NoSQL</span>数据库并非对立而是互补的关系，即通常情况下使用关系型数据库，在适合使用<span class="token class-name">NoSQL</span>的时候使用<span class="token class-name">NoSQL</span>数据库，
			让<span class="token class-name">NoSQL</span>数据库对关系型数据库的不足进行弥补。
			一般会将数据存储在关系型数据库中，在nosql数据库中备份存储关系型数据库的数据

	<span class="token number">1.2</span><span class="token punctuation">.</span>主流的NOSQL产品
		•	键值<span class="token punctuation">(</span><span class="token class-name">Key</span><span class="token operator">-</span><span class="token class-name">Value</span><span class="token punctuation">)</span>存储数据库
				相关产品： <span class="token class-name">Tokyo</span> <span class="token class-name">Cabinet</span><span class="token operator">/</span><span class="token class-name">Tyrant</span>、<span class="token class-name">Redis</span>、<span class="token class-name">Voldemort</span>、<span class="token class-name">Berkeley</span> DB
				典型应用： 内容缓存，主要用于处理大量数据的高访问负载。 
				数据模型： 一系列键值对
				优势： 快速查询
				劣势： 存储的数据缺少结构化
		•	列存储数据库
				相关产品：<span class="token class-name">Cassandra</span><span class="token punctuation">,</span> <span class="token class-name">HBase</span><span class="token punctuation">,</span> <span class="token class-name">Riak</span>
				典型应用：分布式的文件系统
				数据模型：以列簇式存储，将同一列数据存在一起
				优势：查找速度快，可扩展性强，更容易进行分布式扩展
				劣势：功能相对局限
		•	文档型数据库
				相关产品：<span class="token class-name">CouchDB</span>、<span class="token class-name">MongoDB</span>
				典型应用：<span class="token class-name">Web</span>应用（与<span class="token class-name">Key</span><span class="token operator">-</span><span class="token class-name">Value</span>类似，<span class="token class-name">Value</span>是结构化的）
				数据模型： 一系列键值对
				优势：数据结构要求不严格
				劣势： 查询性能不高，而且缺乏统一的查询语法
		•	图形<span class="token punctuation">(</span><span class="token class-name">Graph</span><span class="token punctuation">)</span>数据库
				相关数据库：<span class="token class-name">Neo4J</span>、<span class="token class-name">InfoGrid</span>、<span class="token class-name">Infinite</span> <span class="token class-name">Graph</span>
				典型应用：社交网络
				数据模型：图结构
				优势：利用图结构相关算法。
				劣势：需要对整个图做计算才能得出结果，不容易做分布式的集群方案。
	<span class="token number">1.3</span> 什么是<span class="token class-name">Redis</span>
		<span class="token class-name">Redis</span>是用<span class="token class-name">C</span>语言开发的一个开源的高性能键值对（key<span class="token operator">-</span>value）数据库，官方提供测试数据，<span class="token number">50</span>个并发执行<span class="token number">100000</span>个请求<span class="token punctuation">,</span>读的速度是<span class="token number">110000</span>次<span class="token operator">/</span>s<span class="token punctuation">,</span>写的速度是<span class="token number">81000</span>次<span class="token operator">/</span>s ，且<span class="token class-name">Redis</span>通过提供多种键值数据类型来适应不同场景下的存储需求，目前为止<span class="token class-name">Redis</span>支持的键值数据类型如下：
			<span class="token number">1</span><span class="token punctuation">)</span> 字符串类型 string
			<span class="token number">2</span><span class="token punctuation">)</span> 哈希类型 hash
			<span class="token number">3</span><span class="token punctuation">)</span> 列表类型 list
			<span class="token number">4</span><span class="token punctuation">)</span> 集合类型 set
			<span class="token number">5</span><span class="token punctuation">)</span> 有序集合类型 sortedset
		<span class="token number">1.3</span><span class="token number">.1</span> redis的应用场景
			•	缓存（数据查询、短连接、新闻内容、商品内容等等）
			•	聊天室的在线好友列表
			•	任务队列。（秒杀、抢购、<span class="token number">12306</span>等等）
			•	应用排行榜
			•	网站访问统计
			•	数据过期处理（可以精确到毫秒
			•	分布式集群架构中的session分离
<span class="token number">2.</span> 命令操作
	<span class="token number">1.</span> redis的数据结构：
		<span class="token operator">*</span> redis存储的是：key<span class="token punctuation">,</span>value格式的数据，其中key都是字符串，value有<span class="token number">5</span>种不同的数据结构
			<span class="token operator">*</span> value的数据结构：
				<span class="token number">1</span><span class="token punctuation">)</span> 字符串类型 string
				<span class="token number">2</span><span class="token punctuation">)</span> 哈希类型 hash ： map格式  
				<span class="token number">3</span><span class="token punctuation">)</span> 列表类型 list ： linkedlist格式。支持重复元素
				<span class="token number">4</span><span class="token punctuation">)</span> 集合类型 set  ： 不允许重复元素
				<span class="token number">5</span><span class="token punctuation">)</span> 有序集合类型 sortedset：不允许重复元素，且元素有顺序
	
	<span class="token number">2.</span> 字符串类型 string
		<span class="token number">1.</span> 存储： set key value
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> set username zhangsan
			OK
		<span class="token number">2.</span> 获取： get key
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> get username
			<span class="token string">&quot;zhangsan&quot;</span>
		<span class="token number">3.</span> 删除： del key
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> del age
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
	<span class="token number">3.</span> 哈希类型 hash
		<span class="token number">1.</span> 存储： hset key field value
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> hset myhash username lisi
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> hset myhash password <span class="token number">123</span>
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
		<span class="token number">2.</span> 获取： 
			<span class="token operator">*</span> hget key field<span class="token operator">:</span> 获取指定的field对应的值
				<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> hget myhash username
				<span class="token string">&quot;lisi&quot;</span>
			<span class="token operator">*</span> hgetall key：获取所有的field和value
				<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> hgetall myhash
				<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;username&quot;</span>
				<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;lisi&quot;</span>
				<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;password&quot;</span>
				<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;123&quot;</span>
				
		<span class="token number">3.</span> 删除： hdel key field
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> hdel myhash username
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
	
	<span class="token number">4.</span> 列表类型 list<span class="token operator">:</span>可以添加一个元素到列表的头部（左边）或者尾部（右边）
		<span class="token number">1.</span> 添加：
			<span class="token number">1.</span> lpush key value<span class="token operator">:</span> 将元素加入列表左表
				
			<span class="token number">2.</span> rpush key value：将元素加入列表右边
				
				<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> lpush myList a
				<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
				<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> lpush myList b
				<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
				<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> rpush myList c
				<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
		<span class="token number">2.</span> 获取：
			<span class="token operator">*</span> lrange key start end ：范围获取
				<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> lrange myList <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span>
				<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
				<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
				<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
		<span class="token number">3.</span> 删除：
			<span class="token operator">*</span> lpop key： 删除列表最左边的元素，并将元素返回
			<span class="token operator">*</span> rpop key： 删除列表最右边的元素，并将元素返回
	<span class="token number">5.</span> 集合类型 set ： 不允许重复元素
		<span class="token number">1.</span> 存储：sadd key value
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> sadd myset a
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> sadd myset a
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
		<span class="token number">2.</span> 获取：smembers key<span class="token operator">:</span>获取set集合中所有元素
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> smembers myset
			<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
		<span class="token number">3.</span> 删除：srem key value<span class="token operator">:</span>删除set集合中的某个元素	
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> srem myset a
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
	<span class="token number">6.</span> 有序集合类型 sortedset：不允许重复元素，且元素有顺序<span class="token punctuation">.</span>每个元素都会关联一个<span class="token keyword">double</span>类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。

		<span class="token number">1.</span> 存储：zadd key score value
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> zadd mysort <span class="token number">60</span> zhangsan
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> zadd mysort <span class="token number">50</span> lisi
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> zadd mysort <span class="token number">80</span> wangwu
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
		<span class="token number">2.</span> 获取：zrange key start end <span class="token punctuation">[</span>withscores<span class="token punctuation">]</span>
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> zrange mysort <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span>
			<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;lisi&quot;</span>
			<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
			<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;wangwu&quot;</span>

			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> zrange mysort <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> withscores
			<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
			<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;60&quot;</span>
			<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;wangwu&quot;</span>
			<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;80&quot;</span>
			<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;lisi&quot;</span>
			<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;500&quot;</span>
		<span class="token number">3.</span> 删除：zrem key value
			<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> zrem mysort lisi
			<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>

	<span class="token number">7.</span> 通用命令
		<span class="token number">1.</span> keys <span class="token operator">*</span> <span class="token operator">:</span> 查询所有的键
		<span class="token number">2.</span> type key ： 获取键对应的value的类型
		<span class="token number">3.</span> del key：删除指定的key value
<span class="token number">3.</span> 持久化
	<span class="token number">1.</span> redis是一个内存数据库，当redis服务器重启，获取电脑重启，数据会丢失，我们可以将redis内存中的数据持久化保存到硬盘的文件中。
	<span class="token number">2.</span> redis持久化机制：
		<span class="token number">1.</span> RDB：默认方式，不需要进行配置，默认就使用这种机制
			<span class="token operator">*</span> 在一定的间隔时间中，检测key的变化情况，然后持久化数据
			<span class="token number">1.</span> 编辑redis<span class="token punctuation">.</span>windwos<span class="token punctuation">.</span>conf文件
				#   after <span class="token number">900</span> sec <span class="token punctuation">(</span><span class="token number">15</span> min<span class="token punctuation">)</span> <span class="token keyword">if</span> at least <span class="token number">1</span> key changed
				save <span class="token number">900</span> <span class="token number">1</span>
				#   after <span class="token number">300</span> sec <span class="token punctuation">(</span><span class="token number">5</span> min<span class="token punctuation">)</span> <span class="token keyword">if</span> at least <span class="token number">10</span> keys changed
				save <span class="token number">300</span> <span class="token number">10</span>
				#   after <span class="token number">60</span> sec <span class="token keyword">if</span> at least <span class="token number">10000</span> keys changed
				save <span class="token number">60</span> <span class="token number">10000</span>
				
			<span class="token number">2.</span> 重新启动redis服务器，并指定配置文件名称
				<span class="token class-name">D</span><span class="token operator">:</span>\<span class="token class-name">JavaWeb2018</span>\day23_redis\资料\redis\windows<span class="token operator">-</span><span class="token number">64</span>\redis<span class="token operator">-</span><span class="token number">2.8</span><span class="token number">.9</span><span class="token operator">&gt;</span>redis<span class="token operator">-</span>server<span class="token punctuation">.</span>exe redis<span class="token punctuation">.</span>windows<span class="token punctuation">.</span>conf	
			
		<span class="token number">2.</span> AOF：日志记录的方式，可以记录每一条命令的操作。可以每一次命令操作后，持久化数据
			<span class="token number">1.</span> 编辑redis<span class="token punctuation">.</span>windwos<span class="token punctuation">.</span>conf文件
				appendonly no（关闭aof） <span class="token operator">--</span><span class="token operator">&gt;</span> appendonly yes （开启aof）
				
				# appendfsync always ： 每一次操作都进行持久化
				appendfsync everysec ： 每隔一秒进行一次持久化
				# appendfsync no	 ： 不进行持久化
<span class="token number">4.</span> <span class="token class-name">Java</span>客户端 <span class="token class-name">Jedis</span>
	<span class="token operator">*</span> <span class="token class-name">Jedis</span><span class="token operator">:</span> 一款java操作redis数据库的工具<span class="token punctuation">.</span>
	<span class="token operator">*</span> 使用步骤：
		<span class="token number">1.</span> 下载jedis的jar包
		<span class="token number">2.</span> 使用
			<span class="token comment">//1. 获取连接</span>
    		<span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">6379</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   			<span class="token comment">//2. 操作</span>
   			jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    		<span class="token comment">//3. 关闭连接</span>
    		jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">*</span> <span class="token class-name">Jedis</span>操作各种redis中的数据结构
		<span class="token number">1</span><span class="token punctuation">)</span> 字符串类型 string
			set
			get
			
			 <span class="token comment">//1. 获取连接</span>
	        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span>
	        <span class="token comment">//2. 操作</span>
	        <span class="token comment">//存储</span>
	        jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token comment">//获取</span>
	        <span class="token class-name">String</span> username <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">//可以使用setex()方法存储可以指定过期时间的 key value</span>
	        jedis<span class="token punctuation">.</span><span class="token function">setex</span><span class="token punctuation">(</span><span class="token string">&quot;activecode&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&quot;hehe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将activecode：hehe键值对存入redis，并且20秒后自动删除该键值对</span>
	
	        <span class="token comment">//3. 关闭连接</span>
	        jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token number">2</span><span class="token punctuation">)</span> 哈希类型 hash ： map格式  
			hset
			hget
			hgetAll
			<span class="token comment">//1. 获取连接</span>
	        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span>
	        <span class="token comment">//2. 操作</span>
	        <span class="token comment">// 存储hash</span>
	        jedis<span class="token punctuation">.</span><span class="token function">hset</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        jedis<span class="token punctuation">.</span><span class="token function">hset</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;23&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        jedis<span class="token punctuation">.</span><span class="token function">hset</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;female&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">// 获取hash</span>
	        <span class="token class-name">String</span> name <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">hget</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 获取hash的所有map中的数据</span>
	        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> user <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">hgetAll</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">// keyset</span>
	        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keySet <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> keySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	            <span class="token comment">//获取value</span>
	            <span class="token class-name">String</span> value <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token punctuation">}</span>
	
	        <span class="token comment">//3. 关闭连接</span>
	        jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token number">3</span><span class="token punctuation">)</span> 列表类型 list ： linkedlist格式。支持重复元素
			lpush <span class="token operator">/</span> rpush
			lpop <span class="token operator">/</span> rpop
			lrange start end <span class="token operator">:</span> 范围获取
			
			 <span class="token comment">//1. 获取连接</span>
	        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span>
	        <span class="token comment">//2. 操作</span>
	        <span class="token comment">// list 存储</span>
	        jedis<span class="token punctuation">.</span><span class="token function">lpush</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//从左边存</span>
	        jedis<span class="token punctuation">.</span><span class="token function">rpush</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//从右边存</span>
	
	        <span class="token comment">// list 范围获取</span>
	        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mylist <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">lrange</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mylist<span class="token punctuation">)</span><span class="token punctuation">;</span>
	        
	        <span class="token comment">// list 弹出</span>
	        <span class="token class-name">String</span> element1 <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">lpop</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//c</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>element1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token class-name">String</span> element2 <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">rpop</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//c</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>element2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">// list 范围获取</span>
	        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mylist2 <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">lrange</span><span class="token punctuation">(</span><span class="token string">&quot;mylist&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mylist2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">//3. 关闭连接</span>
	        jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token number">4</span><span class="token punctuation">)</span> 集合类型 set  ： 不允许重复元素
			sadd
			smembers<span class="token operator">:</span>获取所有元素

			<span class="token comment">//1. 获取连接</span>
	        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span>
	        <span class="token comment">//2. 操作</span>
	        <span class="token comment">// set 存储</span>
	        jedis<span class="token punctuation">.</span><span class="token function">sadd</span><span class="token punctuation">(</span><span class="token string">&quot;myset&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;php&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c++&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">// set 获取</span>
	        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myset <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">smembers</span><span class="token punctuation">(</span><span class="token string">&quot;myset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>myset<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">//3. 关闭连接</span>
	        jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token number">5</span><span class="token punctuation">)</span> 有序集合类型 sortedset：不允许重复元素，且元素有顺序
			zadd
			zrange

			<span class="token comment">//1. 获取连接</span>
	        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span>
	        <span class="token comment">//2. 操作</span>
	        <span class="token comment">// sortedset 存储</span>
	        jedis<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;mysortedset&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;亚瑟&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        jedis<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;mysortedset&quot;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">&quot;后裔&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        jedis<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;mysortedset&quot;</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token string">&quot;孙悟空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token comment">// sortedset 获取</span>
	        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mysortedset <span class="token operator">=</span> jedis<span class="token punctuation">.</span><span class="token function">zrange</span><span class="token punctuation">(</span><span class="token string">&quot;mysortedset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mysortedset<span class="token punctuation">)</span><span class="token punctuation">;</span>
			 <span class="token comment">//3. 关闭连接</span>
	        jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">*</span> jedis连接池： <span class="token class-name">JedisPool</span>
		<span class="token operator">*</span> 使用：
			<span class="token number">1.</span> 创建<span class="token class-name">JedisPool</span>连接池对象
			<span class="token number">2.</span> 调用方法 <span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法获取<span class="token class-name">Jedis</span>连接
				<span class="token comment">//0.创建一个配置对象</span>
		        <span class="token class-name">JedisPoolConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPoolConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        config<span class="token punctuation">.</span><span class="token function">setMaxTotal</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        config<span class="token punctuation">.</span><span class="token function">setMaxIdle</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		        <span class="token comment">//1.创建Jedis连接池对象</span>
		        <span class="token class-name">JedisPool</span> jedisPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPool</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">6379</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		        <span class="token comment">//2.获取连接</span>
		        <span class="token class-name">Jedis</span> jedis <span class="token operator">=</span> jedisPool<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        <span class="token comment">//3. 使用</span>
		        jedis<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;hehe&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;heihei&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				 <span class="token comment">//4. 关闭 归还到连接池中</span>
		        jedis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token operator">*</span> 连接池工具类
			<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JedisPoolUtils</span> <span class="token punctuation">{</span>

			    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">JedisPool</span> jedisPool<span class="token punctuation">;</span>
			
			    <span class="token keyword">static</span><span class="token punctuation">{</span>
			        <span class="token comment">//读取配置文件</span>
			        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token class-name">JedisPoolUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;jedis.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			        <span class="token comment">//创建Properties对象</span>
			        <span class="token class-name">Properties</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			        <span class="token comment">//关联文件</span>
			        <span class="token keyword">try</span> <span class="token punctuation">{</span>
			            pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
			        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			        <span class="token punctuation">}</span>
			        <span class="token comment">//获取数据，设置到JedisPoolConfig中</span>
			        <span class="token class-name">JedisPoolConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPoolConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			        config<span class="token punctuation">.</span><span class="token function">setMaxTotal</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;maxTotal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			        config<span class="token punctuation">.</span><span class="token function">setMaxIdle</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;maxIdle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			        <span class="token comment">//初始化JedisPool</span>
			        jedisPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JedisPool</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;host&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;port&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			     <span class="token punctuation">}</span>
			     <span class="token comment">/**
			     * 获取连接方法
			     */</span>
			    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Jedis</span> <span class="token function">getJedis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			        <span class="token keyword">return</span> jedisPool<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			    <span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br></div></div><h3 id="操作数据库的过程"><a href="#操作数据库的过程" class="header-anchor">#</a> 操作数据库的过程</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>注册驱动
<span class="token number">2.</span>获取<span class="token class-name">Connection</span>
<span class="token number">3.</span>获取<span class="token class-name">Statement</span>（parentStatement 防止sql注入）
<span class="token number">4.</span>执行sql
<span class="token number">5.</span>处理结果
<span class="token number">6.</span>释放资源
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="你所了解的数据源技术有那些"><a href="#你所了解的数据源技术有那些" class="header-anchor">#</a> 你所了解的数据源技术有那些？</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>C3P0<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//自动加载src下的C3P0.properties或者C3P0.xml</span>

<span class="token class-name">Druid</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//需要使用类加载器读取C3P0.properties或者C3P0.xml</span>

<span class="token class-name">Dbcp</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">BasicDataSourceFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//需要使用类加载器读取C3P0.properties或者C3P0.xml	</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="mysql查询基本语法"><a href="#mysql查询基本语法" class="header-anchor">#</a> MySQL查询基本语法</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select[distinct(去重)]
	列名1[AS] [别名1],
	列名2[AS] [别名2]
from
表名[AS] [别名]
where
条件
group by
分组字段
having
分组后条件
order by
排序(ASC 默认升 DESC 降)
limit(MySQL的方言 Oracle rownum)
(起始索引=(当前页码-1)*每页显示条数,每页显示条数)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="连接查询的分类"><a href="#连接查询的分类" class="header-anchor">#</a> 连接查询的分类</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>交叉连接：无条件连接
	语法：select <span class="token operator">*</span> FROM 表<span class="token number">1</span> CROSS JOIN 表<span class="token number">2</span><span class="token punctuation">;</span> 或者： SELECT <span class="token operator">*</span> FROM 表<span class="token number">1</span><span class="token punctuation">,</span>表<span class="token number">2</span><span class="token punctuation">;</span>
查询结果：笛卡尔积，如果表<span class="token number">1</span>有<span class="token number">3</span>条数据，表<span class="token number">2</span>有<span class="token number">5</span>条数据，那么结果就是<span class="token number">15</span>条数据。

内连接：
    <span class="token operator">*</span>　语法：能够使用内连接进行多表查询
    显示内连接：select <span class="token operator">*</span> FROM 表<span class="token number">1</span> INNER JOIN 表<span class="token number">2</span> ON 关联条件 <span class="token punctuation">[</span>WHERE 条件<span class="token punctuation">]</span> GROUP BY <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>having <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>order by<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>limit
        显示内连接较少使用，一般使用隐式内连接  INNER关键字可以省略
    隐式内连接：select <span class="token operator">*</span> FROM 表<span class="token number">1</span><span class="token punctuation">,</span>表<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>where 条件<span class="token punctuation">;</span>
        此处的条件可以是关联条件也可以是其他筛选条件。关联条件一般是主外键关联。
    查询结果：能够查到两个表的公共数据<span class="token punctuation">(</span>能够使用关联条件连起来的数据<span class="token punctuation">)</span>	
    
外连接：
    <span class="token operator">*</span> 语法：能够使用左外连接和右外连接进行多表查询
    左外连接：select <span class="token operator">*</span> FROM 表<span class="token number">1</span> LEFT OUTER JOIN 表<span class="token number">2</span> ON 关联条件 <span class="token punctuation">[</span>WHERE 其他条件<span class="token punctuation">]</span>
    右外连接：select <span class="token operator">*</span> FROM 表<span class="token number">1</span> RIGHT OUTER JOIN 表<span class="token number">2</span> ON 关联条件 <span class="token punctuation">[</span>WHERE 其他条件<span class="token punctuation">]</span>
    查询结果：可以得到一张表的全部数据和连一张表的公共数据。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="子查询分类"><a href="#子查询分类" class="header-anchor">#</a> 子查询分类</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>能够使用子查询进行多表查询
	where子查询：一个查询结果作为另一个查询的条件。
		子查询的查询结果：必须是单列。可以是单行单列，可以是多行单列<span class="token punctuation">(</span>使用in<span class="token punctuation">)</span>
	from子查询：一个查询结果作为表和其他表连接查询。
		子查询的查询结果：可以是单列也可以是多列。
	select子查询：一个查询结果作为另一个查询的结果。
		子查询的查询结果：单行单列
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="什么时候推荐使用什么查询"><a href="#什么时候推荐使用什么查询" class="header-anchor">#</a> 什么时候推荐使用什么查询？</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>分析查询结果来自于哪些表，如果需要多张表，并且这些表在数据库中都存在那么推荐使用连接查询，否则使用子查询。
如果只需要一张表，并且查询条件也需要查询得出，那么就需要使用子查询。
如果查询结果需要或者<span class="token operator">/</span>统计某张表的全部数据<span class="token punctuation">,</span>那么就使用外连接，否则使用内连接。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="oracle中的序列"><a href="#oracle中的序列" class="header-anchor">#</a> Oracle中的序列</h3> <div class="language-plsql line-numbers-mode"><pre class="language-plsql"><code><span class="token comment">--序列不真的属于任何一张表，但是可以逻辑和表做绑定。</span>
<span class="token comment">--序列：默认从1开始，依次递增，主要用来给主键赋值使用。</span>
<span class="token comment">--dual：虚表，只是为了补全语法，没有任何意义。</span>

创建一个 seqpersonid的序列<span class="token punctuation">,</span>验证自动增长的操作
<span class="token keyword">CREATE</span> <span class="token keyword">SEQUENCE</span> seqpersonid<span class="token punctuation">;</span>
查找序列的下一个内容
<span class="token keyword">select</span> seqpersonid<span class="token punctuation">.</span>nextval <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
查找序列的当前内容
<span class="token keyword">select</span> seqpersonid<span class="token punctuation">.</span>currval <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="oracle数据函数"><a href="#oracle数据函数" class="header-anchor">#</a> Oracle数据函数</h3> <div class="language-plsql line-numbers-mode"><pre class="language-plsql"><code>单行函数
字符函数
    LOWER:全大写
    <span class="token keyword">select</span> LOWER<span class="token punctuation">(</span><span class="token string">'SQL Course'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--course</span>
    UPPER:全小写
	<span class="token keyword">select</span> UPPER<span class="token punctuation">(</span><span class="token string">'sql course'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--COURSE</span>
	INITCAP:首字母大写
	<span class="token keyword">select</span> INITCAP<span class="token punctuation">(</span><span class="token string">'sql course'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--Course</span>
	
字符控制函数
	CONCAT:字符串连接
	<span class="token keyword">select</span> CONCAT<span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--HelloWorld</span>
	SUBSTR:截取字符串
	<span class="token keyword">select</span> SUBSTR<span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--Hello</span>
	<span class="token keyword">LENGTH</span>:统计字符串的长度
	<span class="token keyword">select</span> <span class="token keyword">LENGTH</span><span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--10</span>
	INSTR:查找字符串在字符串的位置，没有返回<span class="token number">0</span>
	<span class="token keyword">select</span> INSTR<span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--6</span>
	LPAD<span class="token operator">/</span>RPAD:左<span class="token operator">/</span>右填充字符串
	<span class="token keyword">select</span> LPAD<span class="token punctuation">(</span><span class="token number">5200</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--####5200</span>
	TRIM:删除两边规定字符
	<span class="token keyword">select</span> TRIM<span class="token punctuation">(</span><span class="token string">'H'</span> <span class="token keyword">FROM</span> <span class="token string">'HelloWorldH'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--elloWorld</span>
	<span class="token keyword">REPLACE</span>:替换规定字符
	<span class="token keyword">select</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span>‘abcd’<span class="token punctuation">,</span>’b’<span class="token punctuation">,</span>’m’<span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--amcd</span>
	
数字函数
	ROUND: 四舍五入，第二个参数是一小数点为<span class="token number">0</span>
	<span class="token keyword">select</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">45.926</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--45.93</span>
	CEIL：向上取整
	elect CEIL<span class="token punctuation">(</span><span class="token number">45.926</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--45.93</span>
	FLOOR：向下取整
	elect FLOOR<span class="token punctuation">(</span><span class="token number">45.926</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--45.92</span>
	TRUNC:截断
	<span class="token keyword">select</span> TRUNC<span class="token punctuation">(</span><span class="token number">45.926</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--45.92</span>
	MOD: 求余
	<span class="token keyword">select</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">1600</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">--100</span>
	   
转换函数
	数字转字符串 to_char<span class="token punctuation">(</span>数字<span class="token punctuation">,</span>格式字符串<span class="token punctuation">)</span>
		将薪水转化为本地货币字符型
		<span class="token keyword">select</span> to_char<span class="token punctuation">(</span>sal<span class="token punctuation">,</span><span class="token string">'L9999'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>    <span class="token operator">-</span>L 代表本地货币符号 ，<span class="token number">9</span>代表一位数
		
	字符串转数字 to_number
		 <span class="token keyword">select</span> to_number<span class="token punctuation">(</span><span class="token string">'￥950'</span><span class="token punctuation">,</span><span class="token string">'L9999'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
		
	日期转字符串 to_char
	 	hiredate 转字符串
        <span class="token keyword">select</span> hiredate <span class="token punctuation">,</span>to_char<span class="token punctuation">(</span>hiredate <span class="token punctuation">,</span> <span class="token string">'dd-mm-yyyy day'</span><span class="token punctuation">)</span>  <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
	
    字符串转日期 to_date
        <span class="token keyword">select</span> to_date<span class="token punctuation">(</span> <span class="token string">'17-12-1980 星期三'</span> <span class="token punctuation">,</span> <span class="token string">'dd-mm-yyyy day'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
        
日期函数
	<span class="token keyword">sysdate</span>  <span class="token comment">--获取当前系统的时间</span>
        <span class="token keyword">select</span> to_char<span class="token punctuation">(</span><span class="token keyword">sysdate</span><span class="token punctuation">,</span><span class="token string">'yyyy-mm-dd hh24:mi:ss'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
        <span class="token keyword">sysdate</span> 不仅包含日期，还包含时间
        
        <span class="token number">1</span> 显示昨天、今天、明天
            日期类型的计算 <span class="token operator">+</span><span class="token number">1</span> <span class="token operator">-</span><span class="token number">1</span>  单位是天
            <span class="token keyword">select</span> <span class="token keyword">sysdate</span> <span class="token operator">-</span><span class="token number">1</span> 昨天 <span class="token punctuation">,</span> <span class="token keyword">sysdate</span> 今天 <span class="token punctuation">,</span> <span class="token keyword">sysdate</span> <span class="token operator">+</span><span class="token number">1</span> 明天 <span class="token keyword">from</span> dual<span class="token punctuation">;</span>

        <span class="token number">2</span> 计算员工工龄，按照日、周、月、年显示
            日期相减，得到两个日期相隔多少天
            <span class="token keyword">select</span>  ename <span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>
                    <span class="token keyword">sysdate</span><span class="token operator">-</span> hiredate <span class="token string">&quot;天&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">(</span><span class="token keyword">sysdate</span> <span class="token operator">-</span> hiredate<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">7</span> <span class="token string">&quot;周&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">(</span><span class="token keyword">sysdate</span> <span class="token operator">-</span> hiredate<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">30</span> <span class="token string">&quot;月&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">(</span><span class="token keyword">sysdate</span> <span class="token operator">-</span> hiredate<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">365</span> <span class="token string">&quot;年&quot;</span>
                <span class="token keyword">from</span> emp


    months_between
        months_between<span class="token punctuation">(</span>date1 <span class="token punctuation">,</span> date2 <span class="token punctuation">)</span> <span class="token comment">--算出两个时间相差多少个月——精确值</span>
                <span class="token keyword">select</span>  ename <span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>
                    <span class="token punctuation">(</span><span class="token keyword">sysdate</span> <span class="token operator">-</span> hiredate<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">30</span> <span class="token string">&quot;月&quot;</span><span class="token punctuation">,</span>
                    months_between<span class="token punctuation">(</span><span class="token keyword">sysdate</span><span class="token punctuation">,</span>hiredate<span class="token punctuation">)</span> <span class="token string">&quot;精确月&quot;</span>
                <span class="token keyword">from</span> emp
    add_months
        add_months<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span> 在<span class="token keyword">date</span>上添加n个月
        计算明年今日
            <span class="token keyword">select</span> add_months<span class="token punctuation">(</span><span class="token keyword">sysdate</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token string">&quot;明年今日&quot;</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
    last_day
        last_day<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>  <span class="token comment">--返回date 所在 月的最后一天</span>
        <span class="token keyword">select</span> last_day<span class="token punctuation">(</span><span class="token keyword">sysdate</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>

    next_day
        next_day<span class="token punctuation">(</span><span class="token keyword">sysdate</span><span class="token punctuation">,</span><span class="token string">'星期三'</span><span class="token punctuation">)</span>  <span class="token comment">-- 返回下一个星期几是哪一天</span>
        <span class="token keyword">select</span> next_day<span class="token punctuation">(</span><span class="token keyword">sysdate</span><span class="token punctuation">,</span><span class="token string">'星期三'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
     
通用函数
	nvl  
        nvl<span class="token punctuation">(</span>exp<span class="token punctuation">,</span>retval<span class="token punctuation">)</span> 如果exp是空，就返回retval，否则返回exp

    nvl2
        nvl2<span class="token punctuation">(</span>exp <span class="token punctuation">,</span> val1 <span class="token punctuation">,</span> val2<span class="token punctuation">)</span>   如果exp不为空 ，返回val1， 否则返回val2
        查询员工信息，有奖金就显示<span class="token string">'有奖金'</span>，没奖金就显示<span class="token string">'没奖金'</span>

条件语句
	<span class="token keyword">case</span> <span class="token keyword">when</span> <span class="token keyword">then</span> <span class="token keyword">else</span> <span class="token keyword">end</span>   —— 标准 <span class="token keyword">SQL</span> 提供的
    decode    ——<span class="token keyword">oracle</span>提供的一个函数
    总裁决定给大家涨工资，主管涨<span class="token number">1000</span>，销售涨<span class="token number">500</span>，其他涨<span class="token number">200</span>
        switch<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
        {
            <span class="token keyword">case</span> <span class="token string">'MANAGER'</span> : sal <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'SALESMAN'</span> : sal <span class="token operator">+</span> <span class="token number">500</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span> : sal <span class="token operator">+</span> <span class="token number">200</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        }

        <span class="token keyword">case</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span>
            <span class="token keyword">when</span> <span class="token string">'MANAGER'</span> <span class="token keyword">then</span> sal <span class="token operator">+</span> <span class="token number">1000</span>
            <span class="token keyword">when</span> <span class="token string">'SALESMAN'</span> <span class="token keyword">then</span> sal <span class="token operator">+</span> <span class="token number">500</span>
            <span class="token keyword">else</span> sal <span class="token operator">+</span> <span class="token number">200</span>
        <span class="token keyword">end</span>

        <span class="token keyword">select</span> ename <span class="token punctuation">,</span> job <span class="token punctuation">,</span> sal 涨前工资 <span class="token punctuation">,</span>
                <span class="token keyword">case</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span>
                    <span class="token keyword">when</span> <span class="token string">'MANAGER'</span> <span class="token keyword">then</span> sal <span class="token operator">+</span> <span class="token number">1000</span>
                    <span class="token keyword">when</span> <span class="token string">'SALESMAN'</span> <span class="token keyword">then</span> sal <span class="token operator">+</span> <span class="token number">500</span>
                    <span class="token keyword">else</span> sal <span class="token operator">+</span> <span class="token number">200</span>
                <span class="token keyword">end</span>  <span class="token string">&quot;涨后工资&quot;</span>
            <span class="token keyword">from</span> emp

        使用decode
            decode<span class="token punctuation">(</span>exp <span class="token punctuation">,</span> val1 <span class="token punctuation">,</span>val2 <span class="token punctuation">,</span>val3 <span class="token punctuation">,</span> val4 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">,</span> defaultVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
                如果exp 是 val1 返回val2 ， 否则继续判断 
                    是val3 返回 val4   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                    如果都不是，就返回defaultVal

多行函数
统计函数
	遍历表的各行数据，统计完后再返回结果
    sum
        <span class="token number">1</span> 求员工工资总和
            <span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
    count
        <span class="token number">1</span> 求员工数量<span class="token punctuation">,</span>有奖金的员工数
            <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 员工数量<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> <span class="token keyword">from</span> emp
            <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 只要一行有数据就统计
            <span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> 只有comm 不是<span class="token boolean">null</span>才统计
            结论：
                【】<span class="token boolean">NULL</span>不会参与统计函数的统计

        <span class="token number">2</span> 求工作岗位数量  统计去重
            <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> job<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

    max<span class="token operator">/</span>min
        求员工最高工资和最低工资

    avg
        求员工平均工资
            <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
        求员工平均奖金（三种方式）
            <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span>  <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

分组统计
<span class="token keyword">select</span>…
<span class="token keyword">from</span>…
<span class="token keyword">where</span>…
<span class="token keyword">group</span> <span class="token keyword">by</span> 列<span class="token number">1</span>，列<span class="token number">2</span>…<span class="token punctuation">,</span>根据某列，多列进行分组
<span class="token keyword">having</span> cond 分组完成在判断
<span class="token keyword">order</span> <span class="token keyword">by</span> 列<span class="token number">1</span>，列<span class="token number">2</span>…<span class="token punctuation">,</span><span class="token keyword">asc</span> <span class="token operator">|</span> <span class="token keyword">desc</span>

	<span class="token number">1</span> 查询各部门平均工资
        <span class="token keyword">select</span> deptno <span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>
        <span class="token keyword">from</span> emp
        <span class="token keyword">group</span> <span class="token keyword">by</span> deptno

        【结论】：统计函数在有分组的情况下，统计的就是每个分组里边多行数据
            没有分组的情况下，就是统计全表
        在<span class="token keyword">select</span> 中出现的列，必须在<span class="token keyword">group</span> <span class="token keyword">by</span>中出现 ，除了统计函数

    <span class="token number">2</span> 查询平均薪水大于<span class="token number">2000</span>的部门

        <span class="token keyword">select</span> deptno <span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>
        <span class="token keyword">from</span> emp
        <span class="token keyword">where</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2000</span>
        <span class="token keyword">group</span> <span class="token keyword">by</span> deptno
        第 <span class="token number">3</span> 行出现错误:
        ORA<span class="token operator">-</span><span class="token number">00934</span>: 此处不允许使用分组函数

        <span class="token keyword">where</span> 里边不允许使用分组函数进行判断 
        使用<span class="token keyword">having</span>
        <span class="token keyword">select</span> deptno <span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>
        <span class="token keyword">from</span> emp
        <span class="token keyword">group</span> <span class="token keyword">by</span> deptno
        <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2000</span>

    <span class="token number">3</span> 求<span class="token number">10</span>号部门员工的平均薪水
        <span class="token keyword">select</span> deptno  <span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>
        <span class="token keyword">from</span> emp
        <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">10</span>
        <span class="token keyword">group</span> <span class="token keyword">by</span> deptno

        <span class="token keyword">having</span>

        <span class="token keyword">select</span> deptno  <span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>
        <span class="token keyword">from</span> emp
        <span class="token keyword">group</span> <span class="token keyword">by</span> deptno
        <span class="token keyword">having</span> deptno <span class="token operator">=</span> <span class="token number">10</span>

    <span class="token number">4</span> <span class="token keyword">having</span>与<span class="token keyword">where</span>的区别
        <span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">from</span> emp
        <span class="token keyword">where</span> cond
        <span class="token keyword">group</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        havin cond
        <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

        <span class="token keyword">where</span>能做的<span class="token keyword">having</span>也能做，<span class="token keyword">where</span>不能做的<span class="token keyword">having</span>也能做
        结论：能用<span class="token keyword">where</span>就别用<span class="token keyword">having</span>

        <span class="token number">1</span> 从<span class="token keyword">from</span> 的表 emp 拿出数据
        <span class="token number">2</span> 逐行筛选，通过<span class="token keyword">where</span>条件来筛选 ， 结果集<span class="token number">1</span>
        <span class="token number">3</span> 分组，并且计算统计函数 ，结果集<span class="token number">2</span>
        <span class="token number">4</span> 再进行筛选，<span class="token keyword">having</span>的条件，通过<span class="token keyword">having</span>的条件就留下，得到结果集<span class="token number">3</span>
        <span class="token number">5</span> 排序 得到结果集
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br></div></div><h3 id="oracle中分页查询"><a href="#oracle中分页查询" class="header-anchor">#</a> Oracle中分页查询</h3> <div class="language-plsql line-numbers-mode"><pre class="language-plsql"><code>操作执行原理
    执行查询操作；
    将第一行的<span class="token keyword">ROWNUM</span>置为<span class="token number">1</span>；
    将得到的行的<span class="token keyword">ROWNUM</span>与条件相比较，如果不匹配，则抛弃行，如果匹配，则返回行；
    <span class="token keyword">oracle</span>获取下一行，然后将<span class="token keyword">ROWNUM</span>增<span class="token number">1</span>；
    返回第<span class="token number">3</span>步；
    直到超过<span class="token keyword">ROWNUM</span>的限制条件；
    
<span class="token keyword">ROWNUM</span> 使用注意事项
    <span class="token keyword">ROWNUM</span>不能以任何基表的名称作为前缀。
    子查询中的<span class="token keyword">ROWNUM</span>必须要有别名，否则还是不会查出记录来，这是因为<span class="token keyword">ROWNUM</span>不是某个表的列，如果不起别名的话，无法知道<span class="token keyword">ROWNUM</span>是子查询的列还是主查询的列。
    查询<span class="token keyword">ROWNUM</span>在某区间的数据，<span class="token keyword">ROWNUM</span>对小于某值的查询条件为<span class="token boolean">true</span>，对于大于某值的查询条件直接认为是<span class="token boolean">false</span>的，但是可以间接的让它转为认为是<span class="token boolean">true</span>的。那就必须使用子查询。

CBO优化模式下，<span class="token keyword">Oracle</span>可以将外层的查询条件，推到内层（只能向内推一层）查询中，以提高内层查询的执行效率。
对于格式<span class="token number">1</span>的第二层查询条件，<span class="token keyword">WHERE</span> <span class="token keyword">ROWNUM</span> <span class="token operator">&lt;=</span><span class="token keyword">end</span> <span class="token punctuation">(</span>page<span class="token operator">*</span>pagesize<span class="token punctuation">)</span> 就可以被推入内层查询中，这样的话，<span class="token keyword">Oracle</span>查询的结果一旦超过了<span class="token keyword">ROWNUM</span>的限制条件，就终止查询，将结果返回了。
<span class="token comment">-- 格式1(推荐)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span>   
<span class="token punctuation">(</span>  
<span class="token keyword">SELECT</span> <span class="token keyword">temp</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">ROWNUM</span> RN   
<span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">)</span> <span class="token keyword">temp</span>  
<span class="token keyword">WHERE</span> <span class="token keyword">ROWNUM</span> <span class="token operator">&lt;=</span><span class="token keyword">end</span> <span class="token punctuation">(</span>page<span class="token operator">*</span>pagesize<span class="token punctuation">)</span>  
<span class="token punctuation">)</span>  
<span class="token keyword">WHERE</span> RN <span class="token operator">&gt;=</span><span class="token keyword">start</span> <span class="token punctuation">(</span>page<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>pagesize

格式<span class="token number">2</span>的<span class="token keyword">ROWNUM</span>限制条件，是放在了第三层的查询语句中，<span class="token keyword">Oracle</span>无法把第三层的内推到第一层（即使推到最内层也没有意义，因为最内层不知道RN是啥，RN是定义在第二层的）
<span class="token comment">-- 格式2</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span>   
<span class="token punctuation">(</span>  
<span class="token keyword">SELECT</span> <span class="token keyword">temp</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">ROWNUM</span> RN   
<span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> TABLE_NAME<span class="token punctuation">)</span> <span class="token keyword">temp</span>   
<span class="token punctuation">)</span>  
<span class="token keyword">WHERE</span> RN <span class="token operator">BETWEEN</span> <span class="token keyword">start</span> <span class="token punctuation">(</span>page<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>pagesize <span class="token operator">AND</span> <span class="token keyword">end</span> <span class="token punctuation">(</span>page<span class="token operator">*</span>pagesize<span class="token punctuation">)</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="事务提交的两种方式"><a href="#事务提交的两种方式" class="header-anchor">#</a> 事务提交的两种方式：</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>自动提交：
mysql默认自动提交事务
一条<span class="token function">DML</span><span class="token punctuation">(</span>增删改<span class="token punctuation">)</span>语句会自动提交一次事务。

手动提交：
<span class="token class-name">Oracle</span> 数据库默认是手动提交事务
需要先开启事务，再提交

修改事务的默认提交方式：
查看事务的默认提交方式：SELECT @<span class="token annotation punctuation">@autocommit</span><span class="token punctuation">;</span> <span class="token operator">--</span> <span class="token number">1</span> 代表自动提交  <span class="token number">0</span> 代表手动提交
修改默认提交方式： set @<span class="token annotation punctuation">@autocommit</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="事务的四大特征"><a href="#事务的四大特征" class="header-anchor">#</a> 事务的四大特征：</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>原子性：是不可分割的最小操作单位，要么同时成功，要么同时失败。

持久性：当事务提交或回滚后，数据库会持久化的保存数据。

隔离性：多个事务之间。相互独立。

一致性：事务操作前后，数据总量不变
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="事务的隔离级别"><a href="#事务的隔离级别" class="header-anchor">#</a> 事务的隔离级别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>概念：多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题。

存在问题：
  <span class="token number">1.</span>脏读：一个事务，读取到另一个事务中没有提交的数据
  <span class="token number">2.</span>不可重复读<span class="token punctuation">(</span>虚读<span class="token punctuation">)</span>：在同一个事务中，两次读取到的数据不一样。
  <span class="token number">3.</span>幻读：一个事务操作<span class="token punctuation">(</span>DML<span class="token punctuation">)</span>数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。

隔离级别：
  <span class="token number">1.</span> read uncommitted：读未提交
  产生的问题：脏读、不可重复读、幻读
  <span class="token number">2.</span> read committed：读已提交 （<span class="token class-name">Oracle</span>）
  <span class="token operator">-</span> 产生的问题：不可重复读、幻读
  <span class="token number">3.</span> repeatable read：可重复读 （<span class="token class-name">MySQL</span>默认）
  <span class="token operator">-</span> 产生的问题：幻读
  <span class="token number">4.</span> serializable：串行化
  <span class="token operator">-</span> 可以解决所有的问题
	
注意：隔离级别从小到大安全性越来越高，但是效率越来越低

数据库查询隔离级别：
select @<span class="token annotation punctuation">@tx_isolation</span><span class="token punctuation">;</span>
数据库设置隔离级别：
set global transaction isolation level  级别字符串<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="mysql中datetime类型与date类型想要查询一天的数据有什么区别"><a href="#mysql中datetime类型与date类型想要查询一天的数据有什么区别" class="header-anchor">#</a> MySQL中datetime类型与date类型想要查询一天的数据有什么区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>datetime类型：可以通过范围查询 between and
date类型：直接写日期即可
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="timestamp与datetime区别"><a href="#timestamp与datetime区别" class="header-anchor">#</a> timestamp与datetime区别</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>两者的存储方式不一样

	对于TIMESTAMP，它把客户端插入的时间从当前时区转化为UTC（世界标准时间）进行存储。查询时，将其又转化为客户端当前时区进行返回。

	而对于DATETIME，不做任何改变，基本上是原样输入和输出。

两者所能存储的时间范围不一样

	timestamp所能存储的时间范围为：'1970-01-01 00:00:01.000000' 到 '2038-01-19 03:14:07.999999'。

	datetime所能存储的时间范围为：'1000-01-01 00:00:00.000000' 到 '9999-12-31 23:59:59.999999'。

总结：TIMESTAMP和DATETIME除了存储范围和存储方式不一样，没有太大区别。当然，对于跨时区的业务，TIMESTAMP更为合适。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="elasticsearch对比solr"><a href="#elasticsearch对比solr" class="header-anchor">#</a> ElasticSearch对比Solr</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Solr</span> 利用 <span class="token class-name">Zookeeper</span> 进行分布式管理，而 <span class="token class-name">Elasticsearch</span> 自身带有分布式协调管理功能<span class="token punctuation">;</span>
<span class="token class-name">Solr</span> 支持更多格式的数据，而 <span class="token class-name">Elasticsearch</span> 仅支持json文件格式；
<span class="token class-name">Solr</span> 官方提供的功能更多，而 <span class="token class-name">Elasticsearch</span> 本身更注重于核心功能，高级功能多有第三方插件提供；
<span class="token class-name">Solr</span> 在传统的搜索应用中表现好于 <span class="token class-name">Elasticsearch</span>，但在处理实时搜索应用时效率明显低于 <span class="token class-name">Elasticsearch</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="nginx的优点"><a href="#nginx的优点" class="header-anchor">#</a> Nginx的优点</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>比其他<span class="token class-name">Web</span>服务器更快地响应请求。
<span class="token number">2.</span>高扩展性，跨平台，可以在大多数 <span class="token class-name">UnixLinux</span> OS 上编译运行，并有 <span class="token class-name">Windows</span> 移植版
<span class="token number">3.</span>高可靠性：用于反向代理，宕机的概率微乎其微
<span class="token number">4.</span>低内存消耗。一般情况下，<span class="token number">10</span> <span class="token number">000</span>个非活跃的HTTP <span class="token class-name">Keep</span><span class="token operator">-</span><span class="token class-name">Alive</span>连接在<span class="token class-name">Nginx</span>中仅消耗<span class="token number">2.5</span>MB的内存
<span class="token number">5.</span>单机支持<span class="token number">10</span>万以上的并发连接
<span class="token number">6.</span>master管理进程与worker工作进程的分离设计，使得<span class="token class-name">Nginx</span>能够提供热部署功能
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="nginx应用场景"><a href="#nginx应用场景" class="header-anchor">#</a> Nginx应用场景</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1</span>、http服务器，可以做静态网页的http服务器。
<span class="token number">2</span>、配置虚拟机。
一个域名可以被多个ip绑定。可以根据域名的不同请求转发给运行在不同端口的服务器。
<span class="token number">3</span>、反向代理，负载均衡。把请求转发给不同的服务器。

正向代理它隐藏了客户端
反向代理它隐藏是服务器端
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="nginx-tomcat集群-redis实现session共享"><a href="#nginx-tomcat集群-redis实现session共享" class="header-anchor">#</a> Nginx+tomcat集群+redis实现session共享</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>1.通过Nginx负载均衡的反向代理配置tomcat集群，并设置权重
2.在tomcat集群中每个服务的session值不一样，将每个session值存入redis中
3.对集群中的tomcat添加配置
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Valve</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.radiadesign.catalina.session.RedisSessionHandlerValve<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Manager</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.radiadesign.catalina.session.RedisSessionManager<span class="token punctuation">&quot;</span></span>

        <span class="token attr-name">host</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>192.168.19.128<span class="token punctuation">&quot;</span></span>

        <span class="token attr-name">port</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6379<span class="token punctuation">&quot;</span></span>

        <span class="token attr-name">database</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>

         <span class="token attr-name">maxInactiveInterval</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span>
		 
		 <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin<span class="token punctuation">&quot;</span></span>
	 <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="spring的核心ioc-aop"><a href="#spring的核心ioc-aop" class="header-anchor">#</a> spring的核心IOC,AOP</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>IOC<span class="token operator">:</span>控制翻转<span class="token punctuation">,</span>将创建的对象权利交给spring容器
    <span class="token number">1.</span>依赖查找：从spring中获取我们需要的对象。
        <span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span>三合一<span class="token punctuation">)</span>
        <span class="token annotation punctuation">@Controller</span>
        <span class="token annotation punctuation">@Service</span>
        <span class="token annotation punctuation">@Repository</span>
	<span class="token number">2.</span>依赖注入：通过spring给对象的属性赋值
		<span class="token annotation punctuation">@Autowired</span><span class="token operator">:</span>先匹配类型，如果有多个就匹配id
		<span class="token annotation punctuation">@Qualifier</span>：指定id
		<span class="token annotation punctuation">@Resource</span>：直接根据id
	<span class="token number">3.</span>其他注解
		<span class="token annotation punctuation">@Scope</span>：指定作用范围（singleton、prototype、request、session、globalsession）
		<span class="token annotation punctuation">@PostConstruct</span>：用于指定初始化方法
		<span class="token annotation punctuation">@PreDestroy</span>：用于指定销毁方法
	<span class="token number">4.</span>新注解
		<span class="token annotation punctuation">@Configuration</span><span class="token operator">:</span>这是一个配置类
		<span class="token annotation punctuation">@bean</span><span class="token operator">:</span>配置对象
		<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.it&quot;</span><span class="token punctuation">)</span>开启spring的注解扫描
		<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
		<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>locations <span class="token operator">=</span> <span class="token string">&quot;classpath:bean.xml&quot;</span><span class="token punctuation">)</span>
		
AOP<span class="token operator">:</span>面向切面编程<span class="token punctuation">,</span>将原有的方法进行增强<span class="token punctuation">,</span>动态代理实现（xml中配置AOP需要加AOP的约束<span class="token operator">&lt;</span>aop<span class="token operator">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>&gt;）
	<span class="token number">1.</span> <span class="token class-name">Joinpoint</span><span class="token punctuation">(</span> 连接点<span class="token punctuation">)</span><span class="token operator">:</span>所谓连接点是指那些被拦截到的点<span class="token punctuation">,</span>在spring中这些点指的是方法。
	<span class="token number">2.</span> <span class="token class-name">Pointcut</span><span class="token punctuation">(</span> 切入点<span class="token punctuation">)</span><span class="token operator">:</span>简单说切入点是指我们要对哪些连接点进行拦截增强，也就是说被增强的方法就是切入点，没有被增强的方法就是连接点。
	<span class="token number">3.</span> <span class="token class-name">Advice</span><span class="token punctuation">(</span> 通知<span class="token operator">/</span> 增强<span class="token punctuation">)</span><span class="token operator">:</span>所谓通知是指拦截到切入点之后所要做的事情就是通知<span class="token punctuation">.</span>通知的类型<span class="token operator">:</span>前置通知<span class="token punctuation">,</span>后置通知<span class="token punctuation">,</span>异常通知<span class="token punctuation">,</span>最终通知<span class="token punctuation">,</span>环绕通知。
	<span class="token number">4.</span> <span class="token class-name">Aspect</span><span class="token punctuation">(</span> 切面<span class="token punctuation">)</span><span class="token operator">:</span>是切入点和通知（引介）的结合。
	
	使用注解开发<span class="token operator">:</span>首先配置<span class="token annotation punctuation">@Aspect</span>类<span class="token punctuation">,</span>然后配置<span class="token annotation punctuation">@Pointcut</span>类<span class="token punctuation">,</span>最后在方法上配置<span class="token annotation punctuation">@around</span><span class="token punctuation">(</span>beforeafter<span class="token operator">-</span>returning<span class="token punctuation">,</span>after<span class="token operator">-</span>throwing<span class="token punctuation">,</span>after<span class="token punctuation">)</span>
	环绕通知的方法可以看出是动态代理中的invoke方法，是spring给我们提供一种通过代码手动调用其他通知和切入点方法的方式
	<span class="token annotation punctuation">@Transactional</span>注解配置事务管理和通知的类型
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="如何优化spring"><a href="#如何优化spring" class="header-anchor">#</a> 如何优化spring</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
	因为我们每次在创建spring容器的时候，new ClasspathXmlApplicationContext创建spring的容器，每次读取spring的配置文件，就会创建bean对象，导致的弊端，spring容器会被加载多次，并且spring容器里面的bean对象也会被创建多次。

优化的解决方案：
	1.创建监听器ServletContextListener，监听器的作用就是当web应用程序启动的时候，就会进行监听，在监听的时候，需要把创建spring容器的方法移动到监听器里面，new ClasspathXmlApplicationContext，因为监听器只会调用一次，如果只调用一次，那么bean对象只会创建一次。我们需要把ApplicationContext存取到域对象里面ServletContext，ServletContext是最大的域对象，只要存进去，任何地方都可以取出来使用

	2.使用WebApplicationContextUtils调用getApplicationContext方法，传入ServletContex
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="spring中beanfactory-和applicationcontext的区别"><a href="#spring中beanfactory-和applicationcontext的区别" class="header-anchor">#</a> spring中BeanFactory 和ApplicationContext的区别</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>BeanFactory 才是 Spring 容器中的顶层接口。
ApplicationContext 是它的子接口。
BeanFactory 和 ApplicationContext 的区别：
创建对象的时间点不一样。
ApplicationContext：只要一读取配置文件，默认情况下就会创建对象。
BeanFactory：什么使用什么时候创建对象。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="spring中的设计模式"><a href="#spring中的设计模式" class="header-anchor">#</a> spring中的设计模式</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>简单工厂（<span class="token class-name">StaticFactory</span> <span class="token class-name">Method</span>）：通过传入的参数，动态创建哪一个产品类 <span class="token class-name">BeanFactory</span>

<span class="token number">2.</span>工厂模式（<span class="token class-name">Factory</span> <span class="token class-name">Method</span>）：应用程序将创建对象和初始化对象的职责交给工厂对象

<span class="token number">3.</span>单例模式（<span class="token class-name">Singleton</span>）：保证一个类仅有一个实例，并提供一个全局访问点。

<span class="token number">4.</span>适配器（<span class="token class-name">Adapter</span>）：在<span class="token class-name">Spring</span>的<span class="token class-name">Aop</span>中，使用的<span class="token class-name">Advice</span>（通知）来增强被代理类的功能。<span class="token class-name">Spring</span>实现这一AOP功能的原理就使用代理模式（<span class="token number">1</span>、JDK动态代理。<span class="token number">2</span>、<span class="token class-name">CGLib</span>字节码生成技术代理。）对类进行方法级别的切面增强，即，生成被代理类的代理类， 并在代理类的方法前，设置拦截器，通过执行拦截器重的内容增强了代理方法的功能，实现的面向切面编程。

<span class="token number">5.</span>包装器（<span class="token class-name">Decorator</span>）：切换数据源，spring中用到的包装器模式在类名上有两种表现：一种是类名中含有<span class="token class-name">Wrapper</span>，另一种是类名中含有<span class="token class-name">Decorator</span>。基本上都是动态地给一个对象添加一些额外的职责。 

<span class="token number">6.</span>代理（<span class="token class-name">Proxy</span>）：为其他对象提供一种代理以控制对这个对象的访问。  从结构上来看和<span class="token class-name">Decorator</span>模式类似，但<span class="token class-name">Proxy</span>是控制，更像是一种对功能的限制，而<span class="token class-name">Decorator</span>是增加职责。 spring的<span class="token class-name">Proxy</span>模式在aop中有体现，比如<span class="token class-name">JdkDynamicAopProxy</span>和<span class="token class-name">Cglib2AopProxy</span>

<span class="token number">7.</span>观察者（<span class="token class-name">Observer</span>）：定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。spring中<span class="token class-name">Observer</span>模式常用的地方是listener的实现。如<span class="token class-name">ApplicationListener</span>。

<span class="token number">8.</span>策略（<span class="token class-name">Strategy</span>）：定义一系列的算法，把它们一个个封装起来，并且使它们可相互替换。本模式使得算法可独立于使用它的客户而变化。 spring中在实例化对象的时候用到<span class="token class-name">Strategy</span>模式

<span class="token number">9.</span>模板方法（<span class="token class-name">Template</span> <span class="token class-name">Method</span>）：定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。<span class="token class-name">Template</span> <span class="token class-name">Method</span>使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="其他设计模式"><a href="#其他设计模式" class="header-anchor">#</a> 其他设计模式</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>生产者消费者模式：一个只生产服务，另一个只消费服务

工厂模式：工厂类可以根据条件生成不同的子类实例，这些子类有一个公共的抽象父类并且实现了相同的方法，但是这些方法针对不同的数据进行了不同的操作（多态方法）。当得到子类的实例后，开发人员可以调用基类中的方法而不必考虑到底返回的是哪一个子类的实例。

代理模式：给一个对象提供一个代理对象，并由代理对象控制原对象的引用。

适配器模式：把一个类的接口变换成客户端所期待的另一种接口，从而使原本因接口不匹配而无法在一起使用的类能够一起工作。

单例模式：一个类只有一个实例，即一个类只有一个对象实例。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="mybatis核心配置文件"><a href="#mybatis核心配置文件" class="header-anchor">#</a> mybatis核心配置文件</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>configuration 配置
    properties 属性 <span class="token operator">--</span>url、properties
    settings 设置	<span class="token operator">--</span>配置延迟加载（lazyLoadingEnabled）、设置哪些方法触发延迟加载（lazyLoadTriggerMethods）、二级缓存默认开启（cacheEnabled<span class="token punctuation">.</span>tyep<span class="token operator">=</span><span class="token string">&quot;redis对象&quot;</span>）
    typeAliases 类型别名
    typeHandlers 类型处理器
    objectFactory 对象工厂
    plugins 插件
    environments 环境
        environment 环境变量
            transactionManager 事务管理器 <span class="token operator">--</span>默认value<span class="token operator">=</span><span class="token string">&quot;JDBC&quot;</span>
            dataSource 数据源 <span class="token operator">--</span>默认 type<span class="token operator">=</span><span class="token string">&quot;POOLED&quot;</span>
    databaseIdProvider 数据库厂商标识
    mappers 映射器
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="mybatis配置第三方连接池实现接口-datasourcefactory"><a href="#mybatis配置第三方连接池实现接口-datasourcefactory" class="header-anchor">#</a> mybatis配置第三方连接池实现接口(DataSourceFactory)</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span><span class="token keyword">return</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2.</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CombopooledDataSource</span>

<span class="token comment">/**
 * 自定义连接池工厂
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyDataSourceFactory</span> <span class="token keyword">implements</span> <span class="token class-name">DataSourceFactory</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Properties</span> properties<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setProperties</span><span class="token punctuation">(</span><span class="token class-name">Properties</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>properties <span class="token operator">=</span> properties <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="mybatis动态sql"><a href="#mybatis动态sql" class="header-anchor">#</a> mybatis动态SQL</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--根据多个id查询用户信息--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findUsersByIds<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    SELECT *from USER
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>array<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>and id in (<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            #{uid}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span><span class="token punctuation">&gt;</span></span>标签用于遍历集合,它的属性:
    collection:代表要遍历的集合元素,注意编写时不要写#{}
    open:代表语句的开始部分
    close:代表结束部分
    item:代表遍历集合的每个元素,生成的变量名
    sperator:代表分隔符
    
定义SQL片段
    <span class="token comment">&lt;!--定义sql片段--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>select_user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from user
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
引用SQL片段
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findUsersByIds<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>select_user<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="mybatis多表查询"><a href="#mybatis多表查询" class="header-anchor">#</a> mybatis多表查询</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>一对一
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
一对多
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accounts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Account<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="mybatis一级缓存和二级缓存"><a href="#mybatis一级缓存和二级缓存" class="header-anchor">#</a> mybatis一级缓存和二级缓存</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>缓存目的：减少对数据库的操作，提交程序执行的效率。

适用场景：查询多增删改少并且对结果影响不大的数据适合缓存。

一级缓存：sqlSession对象的缓存，mybatis默认都有一级缓存。清除以及缓存：sqlSession.close()、sqlSession.clearCache()、执行增删改操作也会清除sqlSession的缓存。

二级缓存：SqlSessionFactory的缓存，同一个SqlSessionFactory获取的SqlSession对象共享数据。需要手动配置
	开启步骤：
		第一步:在SqlMapConfig.xml文件开启二级缓存：可以省略不写
			<span class="token comment">&lt;!--开启二级缓存，默认也是开启--&gt;</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cacheEnabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>setting</span><span class="token punctuation">&gt;</span></span>
		第二步:配置相关的Mapper映射文件（重要）
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cache</span><span class="token punctuation">&gt;</span></span>
		第三步：在执行的操作上使用缓存，可以省略不写，配置了
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cache</span><span class="token punctuation">&gt;</span></span>默认所有select语句结果都会缓存
			<span class="token comment">&lt;!--配置findAll方法的sql--&gt;</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useCache</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				SELECT * from USER
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

	注意1：使用二级缓存之前需要清除一级缓冲。
	注意2：二级缓存的javabean对象必须要实现Serializable接口

集成redis
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.caches.redis.RedisCache<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
@CacheNamespace(blocking=true,implementation = org.mybatis.caches.redis.RedisCache.class)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="springmvc执行流程"><a href="#springmvc执行流程" class="header-anchor">#</a> springMVC执行流程</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>用户发送请求至前端控制器<span class="token class-name">DispatcherServlet</span>。

<span class="token number">2.</span><span class="token class-name">DispatcherServlet</span>收到请求调用<span class="token class-name">HandlerMapping</span>处理器映射器。

<span class="token number">3.</span>处理器映射器找到具体的处理器<span class="token punctuation">(</span>可以根据xml配置、注解进行查找<span class="token punctuation">)</span>，生成处理器对象及处理器拦截器<span class="token punctuation">(</span>如果有则生成<span class="token punctuation">)</span>一并返回给<span class="token class-name">DispatcherServlet</span>。

<span class="token number">4.</span><span class="token class-name">DispatcherServlet</span>调用<span class="token class-name">HandlerAdapter</span>处理器适配器。

<span class="token number">5.</span><span class="token class-name">HandlerAdapter</span>经过适配调用具体的处理器<span class="token punctuation">(</span><span class="token class-name">Controller</span>，也叫后端控制器<span class="token punctuation">)</span>。

<span class="token number">6.</span><span class="token class-name">Controller</span>执行完成返回<span class="token class-name">ModelAndView</span>。

<span class="token number">7.</span><span class="token class-name">HandlerAdapter</span>将controller执行结果<span class="token class-name">ModelAndView</span>返回给<span class="token class-name">DispatcherServlet</span>。

<span class="token number">8.</span><span class="token class-name">DispatcherServlet</span>将<span class="token class-name">ModelAndView</span>传给<span class="token class-name">ViewReslover</span>视图解析器。

<span class="token number">9.</span><span class="token class-name">ViewReslover</span>解析后返回具体<span class="token class-name">View</span>。

<span class="token number">10.</span><span class="token class-name">DispatcherServlet</span>根据<span class="token class-name">View</span>进行渲染视图（即将模型数据填充至视图中）。<span class="token class-name">DispatcherServlet</span>响应用户。

<span class="token class-name">SpringMVC</span>组件解析：

    前端控制器：<span class="token class-name">DispatcherServlet</span>
    	用户请求到达前端控制器，它就相当于 MVC 模式中的 <span class="token class-name">C</span>，<span class="token class-name">DispatcherServlet</span> 是整个流程控制的中心，由它调用其它组件处理用户的请求，<span class="token class-name">DispatcherServlet</span> 的存在降低了组件之间的耦合性。

    处理器映射器：<span class="token class-name">HandlerMapping</span>
    	<span class="token class-name">HandlerMapping</span> 负责根据用户请求找到 <span class="token class-name">Handler</span> 即处理器，<span class="token class-name">SpringMVC</span> 提供了不同的映射器实现不同的映射方式，例如：配置文件方式，实现接口方式，注解方式等。

    处理器适配器：<span class="token class-name">HandlerAdapter</span>
    	通过 <span class="token class-name">HandlerAdapter</span> 对处理器进行执行，这是适配器模式的应用，通过扩展适配器可以对更多类型的处理器进行执行。

    处理器：<span class="token class-name">Handler</span>
    	它就是我们开发中要编写的具体业务控制器。由 <span class="token class-name">DispatcherServlet</span> 把用户请求转发到 <span class="token class-name">Handler</span>。由<span class="token class-name">Handler</span> 对具体的用户请求进行处理。

    视图解析器：<span class="token class-name">View</span> <span class="token class-name">Resolver</span>
    	<span class="token class-name">View</span> <span class="token class-name">Resolver</span> 负责将处理结果生成 <span class="token class-name">View</span> 视图，<span class="token class-name">View</span> <span class="token class-name">Resolver</span> 首先根据逻辑视图名解析成物理视图名，即具体的页面地址，再生成 <span class="token class-name">View</span> 视图对象，最后对 <span class="token class-name">View</span> 进行渲染将处理结果通过页面展示给用户。
    	
    视图：<span class="token class-name">View</span>
    	<span class="token class-name">SpringMVC</span> 框架提供了很多的 <span class="token class-name">View</span> 视图类型的支持，包括：jstlView、freemarkerView、pdfView等。最常用的视图就是 jsp。一般情况下需要通过页面标签或页面模版技术将模型数据通过页面展示给用户，需要由程序员根据业务需求开发具体的页面
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>​</p> <h3 id="springmvc页面跳转"><a href="#springmvc页面跳转" class="header-anchor">#</a> SpringMVC页面跳转</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Controller</span>方法返回<span class="token class-name">ModelAndView</span>对象，通过该对象设置视图名称
<span class="token class-name">Controller</span>方法返回字符串<span class="token punctuation">(</span>包含直接返回视图名称，返回带转发和重定向关键字的字符串<span class="token punctuation">)</span>
<span class="token class-name">Controller</span>方法的形参上可以直接使用原生的<span class="token class-name">HttpServeltRequest</span>对象
    
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">save3</span><span class="token punctuation">(</span><span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span><span class="token punctuation">{</span>
    modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save4</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save5&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save5</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">{</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;酷丁鱼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>​</p> <h3 id="springmvc回写数据"><a href="#springmvc回写数据" class="header-anchor">#</a> SpringMVC回写数据</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>返回字符串
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save6&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save6</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;yuc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/save7&quot;</span><span class="token punctuation">,</span>produces<span class="token operator">=</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token comment">//解决乱码</span>
    <span class="token annotation punctuation">@ResponseBody</span> <span class="token comment">//告知SpringMVC框架 不进行视图跳转 直接进行数据响应</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save7</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;yuc&quot;</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>

返回对象、json添加<span class="token annotation punctuation">@ResponseBody</span>比较麻烦，直接配置
	<span class="token operator">&lt;</span>mvc<span class="token operator">:</span>annotation<span class="token operator">-</span>driven<span class="token operator">/</span><span class="token operator">&gt;</span>
    处理器映射器（<span class="token class-name">RequestMappingHandlerMapping</span>）处理器适配器<span class="token class-name">RequestMappingHandlerAdapter</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="springmvc获得请求数据"><a href="#springmvc获得请求数据" class="header-anchor">#</a> SpringMVC获得请求数据</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>基本数据类型
	方法的参数名称要与请求参数的name一致，参数值会自动映射匹配。并且能自动做类型转换
<span class="token number">2.</span>POJO类型
	POJO参数的属性名与请求参数的name一致，参数值会自动映射匹配
<span class="token number">3.</span>数组类型
	方法数组名称与请求参数的name一致，参数值会自动映射匹配
<span class="token number">4.</span>集合类型
	将集合参数包装到一个POJO中才可以
	当使用ajax提交时，可以指定contentType为json形式，那么在方法参数位置使用<span class="token annotation punctuation">@RequestBody</span>可以直接接收集合数据而无需使用POJO进行包装
	
<span class="token annotation punctuation">@RequestParam</span><span class="token operator">:</span>解决参数名称和方法形参名称不一致
<span class="token annotation punctuation">@PathVariable</span><span class="token operator">:</span>获取<span class="token class-name">RestFul</span>风格请求路径中参数值
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>​</p> <h3 id="springmvc获取servletapi"><a href="#springmvc获取servletapi" class="header-anchor">#</a> SpringMVC获取servletAPI</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/quick19&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save19</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/quick20&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save20</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;User-Agent&quot;</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> user_agent<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span><span class="token comment">//value：请求头名字，required：是否必须携带此请求头</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user_agent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/quick21&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save21</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;JSESSIONID&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> jsessionId<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jsessionId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="springmvc的请求-文件上传-客户端表单实现文件上传客户端表单需要满足"><a href="#springmvc的请求-文件上传-客户端表单实现文件上传客户端表单需要满足" class="header-anchor">#</a> SpringMVC的请求-文件上传-客户端表单实现文件上传客户端表单需要满足：</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>表单项type=“file”
表单的提交方式是post
表单的enctype属性是多部分表单形式，及enctype=“multipart/form-data”

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${pageContext.request.contextPath}/user/save<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    文件1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadFile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    文件2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadFile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>提交<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    
InternalResourceViewResolver：视图解析器
CommonsMultipartResolver：文件上传解析器
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>​</p> <h3 id="springmvc拦截器"><a href="#springmvc拦截器" class="header-anchor">#</a> SpringMVC拦截器：</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>拦截器中的方法执行顺序是：preHandler ——<span class="token operator">&gt;</span> 目标资源 —<span class="token operator">-&gt;</span> postHandle —<span class="token operator">-&gt;</span> afterCompletion

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInterceptor2</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">{</span>
    
    <span class="token comment">/**
     * controller方法执行前，进行拦截的方法（预处理）
     * return true放行
     * return false拦截
     * 可以使用转发或者重定向直接跳转到指定的页面。
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MyInterceptor2访问Controller类之前执行...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * controller方法执行后，进行拦截的方法（后处理），success.jsp执行之前
     * 可以使用转发或者重定向直接跳转到指定的页面。
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MyInterceptor2访问Controller类之后执行...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *  success.jsp执行之后，该方法执行（终处理）
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span>  <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MyInterceptor2访问success.jsp之后...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>配置拦截器<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>mvc<span class="token operator">:</span>interceptors<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mvc<span class="token operator">:</span>interceptor<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>对哪些资源执行拦截操作<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>mvc<span class="token operator">:</span>mapping path<span class="token operator">=</span><span class="token string">&quot;/**&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>bean <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.maweieqi.interceptor.MyInterceptor1&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token comment">//自定义拦截器</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>mvc<span class="token operator">:</span>interceptor<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mvc<span class="token operator">:</span>interceptor<span class="token operator">&gt;</span>
    	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>多个拦截器
    <span class="token operator">&lt;</span><span class="token operator">/</span>mvc<span class="token operator">:</span>interceptor<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>mvc<span class="token operator">:</span>interceptors<span class="token operator">&gt;</span>

多个拦截器情况下，配置在前的先执行，配置在后的后执行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h3 id="springmvc异常"><a href="#springmvc异常" class="header-anchor">#</a> SpringMVC异常</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>使用<span class="token class-name">Spring</span> MVC提供的简单异常处理器<span class="token class-name">SimpleMappingExceptionResolver</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>配置简单映射异常处理器<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;defaultErrorView&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;error&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">&quot;exceptionMappings&quot;</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>map<span class="token punctuation">&gt;</span></span>
           <span class="token operator">&lt;</span>entry key<span class="token operator">=</span><span class="token string">&quot;java.lang.ClassCastException&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;error1&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>entry<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>entry key<span class="token operator">=</span><span class="token string">&quot;com.yuc.exception.MyException&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;error2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>entry<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>map<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>

<span class="token number">2.</span>实现<span class="token class-name">HandlerExceptionResolver</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 配置异常处理器 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;MyExceptionResolver&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.yuc.resolver.SysExceptionResolver&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="springboot如何实现自动配置的"><a href="#springboot如何实现自动配置的" class="header-anchor">#</a> SpringBoot如何实现自动配置的</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>1.SpringBootApplication类中@EnableAutoConfiguration：SpringBoot自动配置开启
2.@Import(AutoConfigurationImportSelector.class) 导入了AutoConfigurationImportSelector类
3.SpringFactoriesLoader.loadFactoryNames 方法的作用就是从META-INF/spring.factories文件中读取指定类对应的类名称列表
4.上面配置文件存在大量的以Configuration为结尾的类名称，这些类就是存有自动配置信息的类，而
SpringApplication在获取这些类名后再加载
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="springboot特性"><a href="#springboot特性" class="header-anchor">#</a> SpringBoot特性</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>继承spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>parent项目
导入spring<span class="token operator">-</span>boot<span class="token operator">-</span>dependencies项目依赖
<span class="token class-name">SpringBoot</span>内置<span class="token class-name">Tomcat</span>、<span class="token class-name">Jetty</span>、<span class="token class-name">Undertow</span>
<span class="token class-name">Spring</span><span class="token operator">-</span>boot<span class="token operator">-</span>devtools：热部署
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="服务间通信-调用方式"><a href="#服务间通信-调用方式" class="header-anchor">#</a> 服务间通信（调用方式）：</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>同步：
    REST（<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span>）：基于http， 对外网调用快（网络中只有字符串可以穿透防火墙）
    RPC（dubbo）：基于socket，是远程过程调用 对内网的调用很快
异步：
	MQ：消息队列
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="spring5-x的新变化"><a href="#spring5-x的新变化" class="header-anchor">#</a> Spring5.x的新变化</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Spring5</span><span class="token punctuation">.</span>x是<span class="token class-name">Java</span>界首个支持响应式的<span class="token class-name">Web</span>框架，是<span class="token class-name">Spring</span>的个重要版本<span class="token punctuation">,</span>距离<span class="token class-name">Spring4</span><span class="token punctuation">.</span>x差不多四年。在此期间<span class="token punctuation">,</span>大多数增强都是在<span class="token class-name">SpringBoot</span>项目中完成的<span class="token punctuation">,</span> 其最大的亮点就是提供了完整的端到端响应式编程的支持<span class="token punctuation">(</span>新增<span class="token class-name">Spring</span> <span class="token class-name">WebFlux</span>模块<span class="token punctuation">)</span>。

<span class="token class-name">Spring</span> <span class="token class-name">WebFlux</span>同时支持使用旧的<span class="token class-name">Spring</span> MVC注解声明<span class="token class-name">Reactive</span> <span class="token class-name">Controller</span> 。和传统的MVC <span class="token class-name">Controller</span> 不同，<span class="token class-name">Reactive</span> <span class="token class-name">Controller</span> 操作的是非阻塞的<span class="token class-name">ServerHttpRequest</span>和<span class="token class-name">ServerHttpResponse</span> <span class="token punctuation">,</span> 而不再是<span class="token class-name">SpringMVC</span>里的<span class="token class-name">HttpServletRequest</span>和<span class="token class-name">HttpServletResponse</span>。

至此也代表着<span class="token class-name">Java</span>正式迎来了响应式异步编程的时代。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="模板引擎"><a href="#模板引擎" class="header-anchor">#</a> 模板引擎</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FreeMaker</span>
<span class="token class-name">Thymeleaf</span>
<span class="token class-name">Beetl</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="springcloud的五大组件"><a href="#springcloud的五大组件" class="header-anchor">#</a> SpringCloud的五大组件</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>服务发现——<span class="token class-name">Netflix</span> <span class="token class-name">Eureka</span>
客服端负载均衡——<span class="token class-name">Netflix</span> <span class="token class-name">Ribbon</span>（fegin）
断路器——<span class="token class-name">Netflix</span> <span class="token class-name">Hystrix</span>（fegin）
服务网关——<span class="token class-name">Netflix</span> <span class="token class-name">Zuul</span>（spring cloud gateway）
分布式配置——<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Config</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="eureka"><a href="#eureka" class="header-anchor">#</a> Eureka</h3> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">服务注册中心</span><span class="token punctuation">:</span> eureka
spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>netflix<span class="token punctuation">-</span>eureka<span class="token punctuation">-</span>service
@EnableEurekaService
<span class="token key atrule">spring</span><span class="token punctuation">:</span> <span class="token comment">#(在bootstrap)</span>
	<span class="token key atrule">application</span><span class="token punctuation">:</span>
		<span class="token key atrule">name</span><span class="token punctuation">:</span> 名字
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8761</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#是否将自己注册到注册中心,默认是true</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#是否获取注册中心的信息</span>
    <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>eureka.instance.hostname<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>/eureka/ <span class="token comment">#注册地址</span>
	<span class="token key atrule">server</span><span class="token punctuation">:</span>
		<span class="token key atrule">eviction-interval-time-in-ms</span><span class="token punctuation">:</span> <span class="token number">60000</span> <span class="token comment">#隔60s清除超时&gt;90s的服务 </span>
		<span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment">#自我保护模式，默认true（开发</span>


<span class="token key atrule">服务提供者</span><span class="token punctuation">:</span>
spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>netflix<span class="token punctuation">-</span>eureka<span class="token punctuation">-</span>client
@EnableEurekaClient
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8763</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8761/eureka
    <span class="token key atrule">instance</span><span class="token punctuation">:</span>
        <span class="token key atrule">perfer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#是否倾向于ip地址</span>
        <span class="token key atrule">ip-address</span><span class="token punctuation">:</span> 127.0.0.1 <span class="token comment">#ip</span>
        <span class="token key atrule">lease-renewal-in-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment">#续约间隔,默认30</span>
        <span class="token key atrule">lease-expiration-duration-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment">#服务失效时间，默认90</span>
	
<span class="token key atrule">服务消费者</span><span class="token punctuation">:</span>
spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>netflix<span class="token punctuation">-</span>eureka<span class="token punctuation">-</span>server
@EnableDiscoveryClient
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8761/eureka
	<span class="token key atrule">registry-fetch-interval-seconds</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment">#拉取服务地址间隔时间，默认30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="spring中的组合注释"><a href="#spring中的组合注释" class="header-anchor">#</a> spring中的组合注释</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringCloudApplication</span>
	<span class="token operator">=</span><span class="token annotation punctuation">@SpringBootApplication</span>	<span class="token comment">//启动类</span>
    <span class="token operator">+</span><span class="token annotation punctuation">@EnableDiscoveryClient</span>	<span class="token comment">//开启发现客户端服务</span>
    <span class="token operator">+</span><span class="token annotation punctuation">@EnableCircuitBreaker</span>	<span class="token comment">//开启熔断</span>

<span class="token annotation punctuation">@RestController</span>
	<span class="token operator">=</span><span class="token annotation punctuation">@ResponseBody</span>
    ＋<span class="token annotation punctuation">@Controller</span>
        
<span class="token annotation punctuation">@PostMapping</span> <span class="token annotation punctuation">@GetMapping</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="ribbon"><a href="#ribbon" class="header-anchor">#</a> Ribbon</h3> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code>负载均衡是一个算法，可以通过该算法实现从地址列表中获取一个地址进行服务调用。
提供了轮询、随机两种负载均衡算法（默认是轮询）可以实现从地址列表中使用负载均衡算法获取地址进行服务调用。
在实例化RestTemplate的时候使用@LoadBalanced，服务地址直接可以使用服务名。
<span class="token key atrule">user-service</span><span class="token punctuation">:</span>
	<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
		<span class="token key atrule">NFLoadBalancerRuleClassName</span><span class="token punctuation">:</span> com.netflix.loadbalencer.RandomRule
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="hystrix雪崩效应"><a href="#hystrix雪崩效应" class="header-anchor">#</a> Hystrix雪崩效应</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Hystrix</span>是一个延迟和容错库，用于隔离访问远程服务，防止出现级联失败。

	服务器支持的线程和并发数有限，如果一个服务异常，请求一直阻塞越积越多，会导致服务器资源耗尽，从而导致所有其它服务都不可用

解决方法
    线程隔离：用户请求不直接访问服务，而是使用线程池中空闲的线程访问服务，加速失败判断时间。
    服务降级：及时返回服务调用失败的结果，让线程不因为等待服务而阻塞。
	
原理分析
    <span class="token class-name">Hystrix</span>为每个依赖服务调用分配一个小的线程池，如果线程池已满调用将被立即拒绝，默认不采用排队，加速失败判定时间。
    用户的请求将不再直接访问服务，而是通过线程池中的空闲线程来访问服务，如果线程池已满，或者请求超时，则会进行降级处理，
    用户的请求故障时，不会被阻塞，更不会无休止的等待或者看到系统崩溃，至少可以看到一个执行结果（例如返回友好的提示信息）。
    服务降级虽然会导致请求失败，但是不会导致阻塞，而且最多会影响这个依赖服务对应的线程池中的资源，对其它服务没有响应。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="什么是服务降级"><a href="#什么是服务降级" class="header-anchor">#</a> 什么是服务降级？</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>优先保证核心服务，而非核心服务不可用或弱可用。
<span class="token annotation punctuation">@EnableCircuitBreaker</span> 开启熔断
<span class="token annotation punctuation">@DefaultProperties</span><span class="token punctuation">(</span>defaultFallback <span class="token operator">=</span> <span class="token string">&quot;defaultFallback&quot;</span><span class="token punctuation">)</span> 声名整个类可用降级方法
<span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">&quot;queryByIdFallback&quot;</span><span class="token punctuation">)</span> 声明要降级逻辑的方法
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="触发hystrix服务降级的情况"><a href="#触发hystrix服务降级的情况" class="header-anchor">#</a> 触发Hystrix服务降级的情况</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>线程池已满
请求超时
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="修改超时时间"><a href="#修改超时时间" class="header-anchor">#</a> 修改超时时间</h3> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code>consumer中
<span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">command</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">execution</span><span class="token punctuation">:</span>
        <span class="token key atrule">isolation</span><span class="token punctuation">:</span>
          <span class="token key atrule">thread</span><span class="token punctuation">:</span>
            <span class="token key atrule">timeoutInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token comment"># 熔断超时设置，默认为1秒</span>
      <span class="token key atrule">circuitBreaker</span><span class="token punctuation">:</span>
        <span class="token key atrule">errorThresholdPercentage</span><span class="token punctuation">:</span> <span class="token number">50</span> <span class="token comment"># 触发熔断错误比例阈值，默认值50%</span>
        <span class="token key atrule">sleepWindowInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">10000</span> <span class="token comment"># 熔断后休眠时长，默认值5秒</span>
        <span class="token key atrule">requestVolumeThreshold</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment"># 熔断触发最小请求次数，默认值是20 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="为什么选择fegin做负载均衡而不是ribbon"><a href="#为什么选择fegin做负载均衡而不是ribbon" class="header-anchor">#</a> 为什么选择Fegin做负载均衡而不是Ribbon</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>本身里面就包含有了ribbon
自身是一个声明式的伪http客户端，写起来更加思路清晰和方便
<span class="token class-name">Fegin</span>是一个采用基于接口的注解的编程方式，更加简便，而ribbon是基于一个类


spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>openfegin
<span class="token annotation punctuation">@EnableFeginClients</span> <span class="token comment">//开启fegin功能</span>
<span class="token annotation punctuation">@FeginClient</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;提供服务名称&quot;</span><span class="token punctuation">,</span>fallback<span class="token operator">=</span>服务降级类<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>configuration<span class="token operator">=</span>配置类<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> #声名该接口是<span class="token class-name">Fegin</span>客户端 通过动态代理生成实现类 类似与mybatis的mapper
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="feign负载均衡及熔断"><a href="#feign负载均衡及熔断" class="header-anchor">#</a> Feign负载均衡及熔断</h3> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code>spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>openfeign 集成了ribbon和Hystrix

<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token comment"># 连接超时时长</span>
  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token comment"># 数据通信超时时长</span>
  <span class="token key atrule">MaxAutoRetries</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token comment"># 当前服务器的重试次数</span>
  <span class="token key atrule">MaxAutoRetriesNextServer</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token comment"># 重试多少次服务</span>
  <span class="token key atrule">OkToRetryOnAllOperations</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># 是否对所有的请求方式都重试</span>
<span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 开启Feign的熔断功能</span>
  <span class="token key atrule">compression</span><span class="token punctuation">:</span>
    <span class="token key atrule">request</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 开启请求压缩</span>
      <span class="token key atrule">mime-types</span><span class="token punctuation">:</span> text/html<span class="token punctuation">,</span>application/xml<span class="token punctuation">,</span>application/json <span class="token comment"># 设置压缩的数据类型</span>
      <span class="token key atrule">min-request-size</span><span class="token punctuation">:</span> <span class="token number">2048</span> <span class="token comment"># 设置触发压缩的大小下限</span>
    <span class="token key atrule">response</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 开启响应压缩</span>
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">com.it</span><span class="token punctuation">:</span> debug
    
NONE：不记录任何日志信息，这是默认值
BASIC：仅记录请求的方法，URL以及响应状态码和执行时间
HEADERS：在BASIC的基础上，额外记录了请求和响应的头信息
FULL：记录所有请求和响应的明细，包括头信息、请求体、元数据
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="zuul"><a href="#zuul" class="header-anchor">#</a> Zuul</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>zuul
<span class="token annotation punctuation">@EnableZuulProxy</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
server<span class="token operator">:</span>
  port<span class="token operator">:</span> <span class="token number">8768</span>

eureka<span class="token operator">:</span>
  client<span class="token operator">:</span>
    service<span class="token operator">-</span>url<span class="token operator">:</span>
      defaultZone<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8761</span><span class="token operator">/</span>eureka
zuul<span class="token operator">:</span>
  routes<span class="token operator">:</span>
    api<span class="token operator">-</span>a<span class="token operator">:</span>
      path<span class="token operator">:</span> <span class="token operator">/</span>api<span class="token operator">/</span>a<span class="token comment">/**
      serviceid: discovery-client-fegin
    api-b:
      path: /api/b/**
      serviceid: discovery-client
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="spring-cloud-gateway"><a href="#spring-cloud-gateway" class="header-anchor">#</a> Spring Cloud Gateway</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>是<span class="token class-name">Spring</span>官网基于<span class="token class-name">Spring</span> <span class="token number">5.0</span>、 <span class="token class-name">Spring</span> <span class="token class-name">Boot</span> <span class="token number">2.0</span>、<span class="token class-name">Project</span> <span class="token class-name">Reactor</span>等技术开发的网关服务。
<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>基于<span class="token class-name">Filter</span>链提供网关基本功能：安全、监控／埋点、限流等。
<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>为微服务架构提供简单、有效且统一的API路由管理方式。
<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>是替代<span class="token class-name">Netflix</span> <span class="token class-name">Zuul</span>的一套解决方案。

<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>组件的核心是一系列的过滤器，通过这些过滤器可以将客户端发送的请求转发（路由）到对
应的微服务。 <span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>是加在整个微服务最前沿的防火墙和代理器，隐藏微服务结点IP端口信息，从
而加强安全保护。<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>本身也是一个微服务，需要注册到<span class="token class-name">Eureka</span>服务注册中心。

核心组件：
    路由（route）
        路由信息的组成：由一个ID、一个目的URL、一组断言工厂、一组<span class="token class-name">Filter</span>组成。如果路由断言为真，说明请求URL和配置路由匹配。
    断言（<span class="token class-name">Predicate</span>）
        <span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>中的断言函数输入类型是<span class="token class-name">Spring</span> <span class="token number">5.0</span>框架中的<span class="token class-name">ServerWebExchange</span>。<span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>的断言函数允许开发者去定义匹配来自于<span class="token class-name">Http</span> <span class="token class-name">Request</span>中的任何信息比如请求头和参数。
    过滤器（<span class="token class-name">Filter</span>）
        一个标准的<span class="token class-name">Spring</span> <span class="token class-name">WebFilter</span>。 <span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Gateway</span>中的<span class="token class-name">Filter</span>分为两种类型的<span class="token class-name">Filter</span>，分别是<span class="token class-name">Gateway</span> <span class="token class-name">Filter</span>和<span class="token class-name">Global</span> <span class="token class-name">Filter</span>。过滤器<span class="token class-name">Filter</span>将会对请求和响应进行修改处理。      
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="路由配置"><a href="#路由配置" class="header-anchor">#</a> 路由配置</h3> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code>spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>gateway
spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>netflix<span class="token punctuation">-</span>eureka<span class="token punctuation">-</span>client
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8767</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> gateway1  <span class="token comment"># 路由id，可以任意</span>
          <span class="token comment">#uri: http://127.0.0.1:8763 # 代理的服务地址</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//eureka<span class="token punctuation">-</span>client <span class="token comment"># lb表示从eureka中获取具体服务集群名称</span>
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span> <span class="token comment"># 路由断言： 可以匹配映射路径</span>
            <span class="token comment">#- Path=/hi/**</span>
            <span class="token comment">#- Path=/**</span>
            <span class="token punctuation">-</span> Path=/api/hi/<span class="token important">**</span>
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token comment">#- PrefixPath=/user# 添加请求路径的前缀</span>
            <span class="token comment">#1表示过滤1个路径，2表示两个路径，以此类推</span>
            <span class="token punctuation">-</span> StripPrefix=1
            <span class="token punctuation">-</span> MyParam=name <span class="token comment">#自定义过滤器</span>
      <span class="token key atrule">default-filters</span><span class="token punctuation">:</span> <span class="token comment"># 默认过滤器，对所有路由都生效 gateway中有许多FilterFactory类如添加请求头，去除路径的前缀</span>
        <span class="token punctuation">-</span> AddResponseHeader=X<span class="token punctuation">-</span>Response<span class="token punctuation">-</span>Foo<span class="token punctuation">,</span> Bar
        <span class="token punctuation">-</span> AddResponseHeader=abc<span class="token punctuation">-</span>myname<span class="token punctuation">,</span>it
      <span class="token key atrule">globalcors</span><span class="token punctuation">:</span>
        <span class="token key atrule">corsConfigurations</span><span class="token punctuation">:</span> <span class="token comment">#跨域配置</span>
          <span class="token key atrule">'[/**]'</span><span class="token punctuation">:</span>
            <span class="token comment">#allowedOrigins: * # 这种写法或者下面的都可以，*表示全部</span>
            <span class="token key atrule">allowedOrigins</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> <span class="token string">&quot;http://docs.spring.io&quot;</span>
            <span class="token key atrule">allowedMethods</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> GET
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>8767/eureka
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    
<span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">command</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">execution</span><span class="token punctuation">:</span>
        <span class="token key atrule">isolation</span><span class="token punctuation">:</span>
          <span class="token key atrule">thread</span><span class="token punctuation">:</span>
            <span class="token key atrule">timeoutInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">6000</span>
            
<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>
  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">2000</span>
  <span class="token key atrule">MaxAutoRetries</span><span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token key atrule">MaxAutoRetriesNextServer</span><span class="token punctuation">:</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h3 id="gateway跨域请求"><a href="#gateway跨域请求" class="header-anchor">#</a> gateway跨域请求</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>可以允许来自 http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>docs<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>io 的get请求方式获取服务数据。
allowedOrigins 指定允许访问的服务器地址，如：http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">10000</span> 也是可以的。
<span class="token string">'[/**]'</span> 表示对所有访问到网关服务器的请求地址
官网具体说明：https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cloud<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>io<span class="token operator">/</span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span><span class="token keyword">static</span><span class="token operator">/</span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>gateway<span class="token operator">/</span><span class="token number">2.1</span><span class="token number">.1</span><span class="token punctuation">.</span>RELEASE<span class="token operator">/</span>multi<span class="token operator">/</span>mul
ti__cors_configuration<span class="token punctuation">.</span>html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="自定义局部过滤器"><a href="#自定义局部过滤器" class="header-anchor">#</a> 自定义局部过滤器</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyParamGatewayFilterFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractGatewayFilterFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyParamGatewayFilterFactory</span><span class="token punctuation">.</span><span class="token class-name">Config</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> 
    
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PARAM_NAME <span class="token operator">=</span> <span class="token string">&quot;param&quot;</span><span class="token punctuation">;</span> 
    
    <span class="token keyword">public</span> <span class="token class-name">MyParamGatewayFilterFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">Config</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">shortcutFieldOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>PARAM_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token class-name">GatewayFilter</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Config</span> config<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token punctuation">(</span>exchange<span class="token punctuation">,</span> chain<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
            <span class="token class-name">ServerHttpRequest</span> request <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            
            <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>param<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                request<span class="token punctuation">.</span><span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>param<span class="token punctuation">)</span> 
                    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>value <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;----------局部过滤器-----%s = %s-----&quot;</span><span class="token punctuation">,</span> 
                                                        config<span class="token punctuation">.</span>param<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span><span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Config</span> <span class="token punctuation">{</span> 
        <span class="token keyword">private</span> <span class="token class-name">String</span> param<span class="token punctuation">;</span> 
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">return</span> param<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
        
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setParam</span><span class="token punctuation">(</span><span class="token class-name">String</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>param <span class="token operator">=</span> param<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="配置全局过滤器"><a href="#配置全局过滤器" class="header-anchor">#</a> 配置全局过滤器</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGlobalFilter</span> <span class="token keyword">implements</span> <span class="token class-name">GlobalFilter</span><span class="token punctuation">,</span><span class="token class-name">Ordered</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span> 
	<span class="token keyword">public</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">,</span> <span class="token class-name">GatewayFilterChain</span> chain<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----------------全局过滤器MyGlobalFilter------------------- --&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    	<span class="token class-name">String</span> token <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    		exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setStatusCode</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>UNAUTHORIZED<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    		<span class="token keyword">return</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">//值越小越先执行 </span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="gatewayfilterchain使用场景"><a href="#gatewayfilterchain使用场景" class="header-anchor">#</a> GatewayFilterChain使用场景</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>请求鉴权：一般<span class="token class-name">GatewayFilterChain</span> 执行filter方法前，如果发现没有访问权限，直接就返回空。
异常处理：一般<span class="token class-name">GatewayFilterChain</span> 执行filter方法后，记录异常并返回。
服务调用时长统计：<span class="token class-name">GatewayFilterChain</span> 执行filter方法前后根据时间统计。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="gateway的高可用"><a href="#gateway的高可用" class="header-anchor">#</a> Gateway的高可用</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>启动多个<span class="token class-name">Gateway</span>服务，自动注册到<span class="token class-name">Eureka</span>，形成集群。如果是服务内部访问，访问<span class="token class-name">Gateway</span>，自动负载均衡，没问题。但是，<span class="token class-name">Gateway</span>更多是外部访问，PC端、移动端等。它们无法通过<span class="token class-name">Eureka</span>进行负载均衡，那么该怎么办？
此时，可以使用其它的服务网关，来对<span class="token class-name">Gateway</span>进行代理。比如：<span class="token class-name">Nginx</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="gateway与fegin的区别"><a href="#gateway与fegin的区别" class="header-anchor">#</a> Gateway与Fegin的区别</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Gateway</span> 作为整个应用的流量入口，接收所有的请求，如PC、移动端等，并且将不同的请求转发至不同的处理微服务模块，其作用可视为nginx；大部分情况下用作权限鉴定、服务端流量控制
<span class="token class-name">Feign</span> 则是将当前微服务的部分服务接口暴露出来，并且主要用于各个微服务之间的服务调用

<span class="token class-name">Gateway</span>网关一般直接给终端请求使用
<span class="token class-name">Feign</span>一般用在微服务之间调用
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="spring-cloud-config"><a href="#spring-cloud-config" class="header-anchor">#</a> Spring Cloud Config</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>可以通过修改在git仓库中的配置文件实现其它所有微服务的配置文件的修改。
<span class="token punctuation">{</span>application<span class="token punctuation">}</span><span class="token operator">-</span><span class="token punctuation">{</span>profile<span class="token punctuation">}</span><span class="token punctuation">.</span>yml）
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>config<span class="token operator">-</span>server
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>bus
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>stream<span class="token operator">-</span>binder<span class="token operator">-</span>rabbit
<span class="token annotation punctuation">@EnableConfigServer</span>

server<span class="token operator">:</span>
  port<span class="token operator">:</span> <span class="token number">8769</span>
spring<span class="token operator">:</span>
  cloud<span class="token operator">:</span>
    config<span class="token operator">:</span>
      server<span class="token operator">:</span>
        git<span class="token operator">:</span>
          uri<span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>gitee<span class="token punctuation">.</span>com<span class="token operator">/</span>asd6a<span class="token operator">/</span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>config<span class="token punctuation">.</span>git
          
  rabbitmq<span class="token operator">:</span> # 配置rabbitmq信息；如果是都与默认值一致则不需要配置
    host<span class="token operator">:</span> localhost
    port<span class="token operator">:</span> <span class="token number">5672</span>
    username<span class="token operator">:</span> guest
    password<span class="token operator">:</span> guest
    
management<span class="token operator">:</span>
  endpoints<span class="token operator">:</span>
    web<span class="token operator">:</span>
      exposure<span class="token operator">:</span>
        include<span class="token operator">:</span> bus<span class="token operator">-</span>refresh # 暴露触发消息总线的地址
        
eureka<span class="token operator">:</span>
  client<span class="token operator">:</span>
    service<span class="token operator">-</span>url<span class="token operator">:</span>
      defaultZone<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8761</span><span class="token operator">/</span>eureka


读取git上的配置
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>config
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>bus
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>stream<span class="token operator">-</span>binder<span class="token operator">-</span>rabbit
spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator
<span class="token number">1.</span>
spring<span class="token operator">:</span>
  application<span class="token operator">:</span>
    name<span class="token operator">:</span> discovery<span class="token operator">-</span>client

  cloud<span class="token operator">:</span>
    config<span class="token operator">:</span>
      name<span class="token operator">:</span> discoveryclient
      profile<span class="token operator">:</span> dev
      label<span class="token operator">:</span> master
      discovery<span class="token operator">:</span>
        enabled<span class="token operator">:</span> <span class="token boolean">true</span> #使用配置中心
        service<span class="token operator">-</span>id<span class="token operator">:</span> config

  rabbitmq<span class="token operator">:</span> # 配置rabbitmq信息；如果是都与默认值一致则不需要配置
    host<span class="token operator">:</span> <span class="token number">192.168</span><span class="token number">.233</span><span class="token number">.136</span>
    port<span class="token operator">:</span> <span class="token number">5672</span>
    username<span class="token operator">:</span> root
    password<span class="token operator">:</span> <span class="token number">123456</span>

eureka<span class="token operator">:</span>
  client<span class="token operator">:</span>
    service<span class="token operator">-</span>url<span class="token operator">:</span>
      defaultZone<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8761</span><span class="token operator">/</span>eureka

<span class="token number">2.</span>
spring<span class="token operator">:</span>
  cloud<span class="token operator">:</span>
    config<span class="token operator">:</span>
      uri<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8769</span>
      name<span class="token operator">:</span> discoveryclient
      profile<span class="token operator">:</span> dev
      label<span class="token operator">:</span> master
      
<span class="token annotation punctuation">@RefreshScope</span> <span class="token comment">//在需要刷新的controller上添加</span>

http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">8769</span><span class="token operator">/</span>actuator<span class="token operator">/</span>bus<span class="token operator">-</span>refresh <span class="token comment">//postman访问发送json请求</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><h3 id="spring-cloud-bus"><a href="#spring-cloud-bus" class="header-anchor">#</a> Spring Cloud Bus</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Bus</span>是用轻量的消息代理将分布式的节点连接起来，可以用于广播配置文件的更改或者服务的监控管理。也就是消息总线可以为微服务做监控，也可以实现应用程序之间相互通信。 <span class="token class-name">Spring</span> <span class="token class-name">Cloud</span> <span class="token class-name">Bus</span>可选的消息代理有<span class="token class-name">RabbitMQ</span>和<span class="token class-name">Kafka</span>。

server：
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>bus
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>stream<span class="token operator">-</span>binder<span class="token operator">-</span>rabbit
spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>actuator

 # 配置rabbitmq信息；如果是都与默认值一致则不需要配置
  rabbitmq<span class="token operator">:</span>
    host<span class="token operator">:</span> localhost
    port<span class="token operator">:</span> <span class="token number">5672</span>
    username<span class="token operator">:</span> guest
    password<span class="token operator">:</span> guest
    
<span class="token annotation punctuation">@RefreshScope</span> <span class="token comment">//刷新配置</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="zipkin"><a href="#zipkin" class="header-anchor">#</a> Zipkin</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>zipkin
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>client
zipkin
zipkin<span class="token operator">-</span>server
zipkin<span class="token operator">-</span>autoconfigure<span class="token operator">-</span>ui
<span class="token annotation punctuation">@EnableZipkinServer</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
server<span class="token operator">:</span>
  port<span class="token operator">:</span> <span class="token number">9411</span>

eureka<span class="token operator">:</span>
  client<span class="token operator">:</span>
    serviceUrl<span class="token operator">:</span>
      defaultZone<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8761</span><span class="token operator">/</span>eureka

management<span class="token operator">:</span>
  metrics<span class="token operator">:</span>
    web<span class="token operator">:</span>
      server<span class="token operator">:</span>
        auto<span class="token operator">-</span>time<span class="token operator">-</span>requests<span class="token operator">:</span> <span class="token boolean">false</span>
            
所有需要链路的项目添加
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>zipkin
和
spring<span class="token operator">:</span>
  zipkin<span class="token operator">:</span>
    base<span class="token operator">-</span>url<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">9411</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="spring-cloud-admin"><a href="#spring-cloud-admin" class="header-anchor">#</a> Spring Cloud Admin</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code>jolokia<span class="token operator">-</span>core
spring<span class="token operator">-</span>boot<span class="token operator">-</span>admin<span class="token operator">-</span>starter<span class="token operator">-</span>server
spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>eureka<span class="token operator">-</span>server
<span class="token annotation punctuation">@EnableAdminServer</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
server<span class="token operator">:</span>
  port<span class="token operator">:</span> <span class="token number">8770</span>

eureka<span class="token operator">:</span>
  client<span class="token operator">:</span>
    serviceUrl<span class="token operator">:</span>
      defaultZone<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8761</span><span class="token operator">/</span>eureka

spring<span class="token operator">:</span>
  zipkin<span class="token operator">:</span>
    base<span class="token operator">-</span>url<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">9411</span>

management<span class="token operator">:</span>
  endpoint<span class="token operator">:</span>
    health<span class="token operator">:</span>
      show<span class="token operator">-</span>details<span class="token operator">:</span> always
  endpoints<span class="token operator">:</span>
    web<span class="token operator">:</span>
      exposure<span class="token operator">:</span>
        exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;health&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">]</span>
        

所有需要监控的项目添加
jolokia<span class="token operator">-</span>core
spring<span class="token operator">-</span>boot<span class="token operator">-</span>admin<span class="token operator">-</span>starter<span class="token operator">-</span>client
spring<span class="token operator">:</span>
  boot<span class="token operator">:</span>
    client<span class="token operator">:</span>
      url<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8770</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/11/2020, 9:50:46 AM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="container" data-v-0178ff65><canvas id="live2d" width="280" height="250" class="live2d-right" data-v-0178ff65></canvas></div><!----></div></div>
    <script src="/assets/js/app.df9b6469.js" defer></script><script src="/assets/js/3.cc36008b.js" defer></script><script src="/assets/js/1.fecf3d02.js" defer></script><script src="/assets/js/18.721bfa07.js" defer></script>
  </body>
</html>
